"use strict";(()=>{function _(e){let t=e;do{if(t.nextSibling){e.parsedCallback();return}t=t.parentNode}while(t);setTimeout(()=>{_(e)})}var j=0,V="9999",A="9998",I=new Set,R=!1,M=e=>{R=!1,I.forEach(t=>{(e.target instanceof Window||e.target.contains(t))&&t.position()})},Z=e=>{R||requestAnimationFrame(()=>M(e)),R=!0};document.addEventListener("scroll",Z,!0);window.addEventListener("resize",Z);var W=new IntersectionObserver(e=>{e.forEach(t=>{let i=document.querySelector(`anchor-ed[to="${t.target.id}"]`);i&&(t.intersectionRatio<=0?i.setAttribute("hidden",""):t.intersectionRatio&&i.hasAttribute("hidden")&&i.removeAttribute("hidden"),i.position())})}),g;function L(e){return e.split("-")[0]}function q(e){return e.split("-")[1]}function D(e){return["top","bottom"].includes(L(e))?"x":"y"}function Y(e){return e==="y"?"height":"width"}function F(e,t,i,h=!1){switch(t){case"top":e.y-=i;break;case"bottom":e.y+=i;break;case"left":e.x+=h?i:-i;break;case"right":e.x+=h?-i:i;break}}function X(e,t,i,h=!1){let l=e.x+e.width/2-t.width/2,p=e.y+e.height/2-t.height/2,m=D(i),d=Y(m),r=e[d]/2-t[d]/2,x=L(i),n=m==="x",a;switch(x){case"top":a={x:l,y:e.y-t.height};break;case"bottom":a={x:l,y:e.y+e.height};break;case"right":a={x:e.x+e.width,y:p};break;case"left":a={x:e.x-t.width,y:p};break;default:a={x:e.x,y:e.y}}switch(q(i)){case"start":a[m]-=r*(h&&n?-1:1);break;case"end":a[m]+=r*(h&&n?-1:1);break}return a}var S=class extends HTMLElement{constructor(){super(),this._handler=null,this._events=[],this._targetHandler=null,this._targetEvents=[]}get target(){let t=this.to;if(t)return document.getElementById(t)}get el(){return this.firstElementChild}get placement(){return this.dataset.placement}get scope(){let t=this.getAttribute("scope");if(t)return document.getElementById(t)}get to(){return this.getAttribute("to")}set to(t){this.setAttribute("to",t)}on(t,i){this._events=this._events.concat(t),this._handler=i,this._addRemoveEvents()}onTarget(t,i){this._targetEvents=this._targetEvents.concat(t),this._targetHandler=i,this._addRemoveEvents()}_addRemoveEvents(t=!1){let i=t?"removeEventListener":"addEventListener";this._events.forEach(l=>{this[i](l,this)});let h=this.target;h&&this._targetEvents.forEach(l=>{h[i](l,this)})}_updateZindex(){g&&g!=this&&g.style.zIndex!=A&&(g.style.zIndex=A),g=this,this.style.zIndex!=V&&(this.style.zIndex=V)}connectedCallback(){_(this)}parsedCallback(){if(!this.to||this.to=="_next"||this.to=="_prev"){let i=this.to=="_prev"?this.previousElementSibling:this.nextElementSibling;i.id||(i.id=`anchored-${++j}`),this.to=i.id}let t=this.target;if(!t){console.error(`${this.to} is an invalid target`);return}I.add(this),this.style.position="fixed",this.style.zIndex=A,this.position(),this._addRemoveEvents(),this.dataset.keepVisible||W.observe(t)}disconnectedCallback(){let t=this.target;this._addRemoveEvents(!0),!this.dataset.keepVisible&&t&&W.unobserve(t),g===this&&(g=null),I.delete(this)}handleEvent(t){this._updateZindex(),this._handler&&t.currentTarget==this&&this._handler(t,this.el,this),this._targetHandler&&t.currentTarget==this.target&&this._targetHandler(t,this.el,this)}position(){let t=this.el;if(!t)return;let i=window.getComputedStyle(t),h=i.opacity!="0"&&i.display!="none",l=this.style.pointerEvents!="none";if(!h){l&&(this.style.pointerEvents="none");return}l||(this.style.pointerEvents="unset");let p=this.target;if(!p){this.remove();return}let m=window.getComputedStyle(p),d=p.getBoundingClientRect(),r=this.dataset.arrow?this.querySelector(this.dataset.arrow):null,x=null;r&&(r.style.position="absolute",x=r.getBoundingClientRect()),Object.assign(this.style,{left:"unset",top:"unset"});let n=this.getBoundingClientRect();n.height||(n.height=this.el.offsetHeight),n.width||(n.width=this.el.offsetWidth);let a=m.direction==="rtl",u=this.placement||"bottom",c=L(u),z=q(u),b=D(u),P=this.ownerDocument.documentElement,w=P.clientWidth,B=P.clientHeight,v=0,O=0,T=this.scope;if(T){let o=T.getBoundingClientRect();v=o.x,O=o.y,w=o.x+o.width,B=o.y+o.height}let s=X(d,n,u,a),y=this.dataset.offset!==void 0?parseInt(this.dataset.offset):0;F(s,c,y,a);let k=!1;b=="x"&&(s.y<O||s.y>=B)&&(c=c=="top"?"bottom":"top",k=!0),b=="y"&&(s.x<v||s.x>=w)&&(c=c=="left"?"right":"left",k=!0),k&&(this.dataset.flipped="true",u=z?`${c}-${z}`:c,s=X(d,n,u,a),F(s,c,y,a));let E=0;if(this.dataset.shift!==void 0||n.width>d.width){let o=parseInt(this.dataset.shift||"0");s.x<v?(E=s.x-v+o,s.x=v+o,r&&b=="y"&&(s.x+=x.width)):s.x+n.width>w&&(E=w-(s.x+n.width)-o,s.x+=E)}if(r){let o,C,f;b=="x"&&(o=d.x>s.x?"right":"left",C=o=="right"?"left":"right",f=n.width/2-x.width/2+E,f>n.width-y&&(f=n.width-y),f<y&&(f=y)),b=="y"&&(o=d.y<s.y?"bottom":"top",C=o=="bottom"?"top":"bottom",f=n.height/2-x.height/2),r.style[C]="unset",r.style[o]=`${f}px`}t.classList.contains("tooltip")&&(t.dataset.popperPlacement=u,t.classList.add("bs-tooltip-auto")),Object.assign(this.style,{left:`${s.x}px`,top:`${s.y}px`})}},H=S;var N=customElements;function $(e,t){N.get(e)||N.define(e,t)}$("anchor-ed",H);var et=H;})();
