"use strict";(()=>{var W=t=>typeof t=="string";var E=t=>t.split(".").reduce((e,i)=>e[i],window);var Z=t=>{W(t)&&(t=t[0]=="{"?JSON.parse(t):E(t));for(let[e,i]of Object.entries(t))if(i&&typeof i=="object"){let s=i.__fn;W(s)?t[e]=E(s):Z(i)}return t},q=Z;var U=t=>t?(t.includes(":")&&t[0]!="{"&&(t=`{${t.replace(/([\w]*)\s*:\s*([\w"'\[\]]*)/,(e,i,s)=>`"${i}":${s.replace(/'/g,'"')}`)}}`),t[0]=="{"?JSON.parse(t):E(t)):{};var lt=t=>{let e=t;do{if(e.nextSibling){t.parsedCallback();return}e=e.parentNode}while(e);setTimeout(()=>{t.parsedCallback()})},Y=lt;var R="__id";window[R]=window[R]||0;var P=new Map,H=class extends HTMLElement{constructor(){super(),this.id=this.id||`ce-${window[R]++}`,P.has(this.id)?this.innerHTML=P.get(this.id):P.set(this.id,this.innerHTML),console.log("created",this.id)}connectedCallback(){this._t&&clearTimeout(this._t),Y(this)}disconnectedCallback(){console.log("disco",this.id),this.disconnected(),this._t=setTimeout(()=>{this.destroyed(),this.config=null,document.getElementById(this.id)||P.delete(this.id)},1e3)}parsedCallback(){this.config||(this.config=q(U(this.dataset.config)),this.created()),this.connected()}created(){}destroyed(){}connected(){}disconnected(){}},G=H;function dt(t,e,i=null){let s=i?t[i]:t;Object.assign(s,e)}function B(t,e){dt(t,e,"style")}function J(t,e){e=typeof e=="string"?[e]:e,t.classList.add(...e)}function K(t,e){e=typeof e=="string"?[e]:e,t.classList.remove(...e)}function Q(t,e){return t.classList.contains(e)}var V=(t,e)=>{for(let i of e)Object.defineProperty(t,i,{get(){return t.getAttribute(i)},set(s){t.setAttribute(i,s)}})};var ft=0,j="9999",O="9998",T=new Set,z=!1,ut=t=>{T.forEach(e=>{(t.target instanceof Window||t.target.contains(e))&&e.reposition()}),z=!1},st=t=>{z||requestAnimationFrame(()=>ut(t)),z=!0};document.addEventListener("scroll",st,!0);window.addEventListener("resize",st);var tt=new IntersectionObserver(t=>{t.forEach(e=>{let i=document.querySelector(`[anchor="${e.target.id}"]`);i&&(e.intersectionRatio<=0?i.setAttribute("hidden",""):e.intersectionRatio&&i.hasAttribute("hidden")&&i.removeAttribute("hidden"),i.reposition())})}),w;function F(t){return t.split("-")[0]}function nt(t){return t.split("-")[1]}function ot(t){return["top","bottom"].includes(F(t))?"x":"y"}function pt(t){return t==="y"?"height":"width"}function I(t){if(t=="top")return"bottom";if(t=="bottom")return"top";if(t=="left")return"right";if(t=="right")return"left"}function et(t,e,i,s=!1){switch(e){case"top":t.y-=i;break;case"bottom":t.y+=i;break;case"left":t.x+=s?i:-i;break;case"right":t.x+=s?-i:i;break;default:console.warn(`Invalid side ${e}`)}}function it(t,e,i,s=!1){let f=t.x+t.width/2-e.width/2,_=t.y+t.height/2-e.height/2,u=ot(i),y=pt(u),v=t[y]/2-e[y]/2,p=F(i),g=u==="x",n;switch(p){case"top":n={x:f,y:t.y-e.height};break;case"bottom":n={x:f,y:t.y+t.height};break;case"right":n={x:t.x+t.width,y:_};break;case"left":n={x:t.x-e.width,y:_};break;default:n={x:t.x,y:t.y}}switch(nt(i)){case"start":n[u]-=v*(s&&g?-1:1);break;case"end":n[u]+=v*(s&&g?-1:1);break}return n}var M=class t extends G{anchor;placement;scope;constructor(){super(),V(this,t.observedAttributes),this._handler=null,this._events=[],this._anchorHandler=null,this._anchorEvents=[]}enable(){J(this,"is-active")}disable(){K(this,"is-active")}static get observedAttributes(){return["anchor","placement","scope"]}attributeChangedCallback(e,i,s){if(this.config&&s&&s!=i){switch(e){case"anchor":this._findAnchor(s);break;case"scope":this._scopeEl=document.getElementById(s);break;case"placement":this.config.placement=s;break}this.reposition()}}get anchorEl(){return this._anchorEl}get el(){return this.firstElementChild}get arrowEl(){return this._arrowEl}get scopeEl(){return this._scopeEl}on(e,i){this._events=this._events.concat(e),this._handler=i,this._addRemoveEvents()}onTarget(e,i){this._anchorEvents=this._anchorEvents.concat(e),this._anchorHandler=i,this._addRemoveEvents()}_addRemoveEvents(e=!1){let i=e?"removeEventListener":"addEventListener";this._events.forEach(f=>{this[i](f,this)});let s=this.anchorEl;s&&this._anchorEvents.forEach(f=>{s[i](f,this)})}_updateZindex(){w&&w!=this&&w.style.zIndex!=O&&(w.style.zIndex=O),w=this,this.style.zIndex!=j&&(this.style.zIndex=j)}created(){this.config=Object.assign({placement:this.placement||"top",distance:0,flip:!0,shift:null,shiftPadding:0,match:"",arrowSelector:"[class$='-arrow']",arrowPadding:0,autoUpdate:!0,hideWithAnchor:!0},this.config),this.enable(),this._findAnchor(this.anchor),this.scope&&(this._scopeEl=document.getElementById(this.scope),this._scopeEl&&(this.config.shift=!0)),this._arrowEl=this.config.arrowSelector?this.querySelector(this.config.arrowSelector):null,this.arrowEl&&!this.config.arrowPadding&&(this.config.arrowPadding=parseInt(getComputedStyle(this.el).borderRadius))}_findAnchor(e){e||(e="_next");let i=null;["_prev","_next"].includes(e)?i=e=="_prev"?this.previousElementSibling:this.nextElementSibling:i=document.getElementById(e),i&&!i.id&&(i.id=`anchored-${++ft}`),this._anchorEl=i,this.anchor=i.id}connected(){let e=this.anchorEl;if(!e){console.error(`${this.anchor} is invalid`,this);return}this.config.autoUpdate&&T.add(this),B(this,{position:"fixed",zIndex:O}),this.reposition(),this._addRemoveEvents(),this.config.hideWithAnchor&&tt.observe(e)}disconnected(){let e=this.anchorEl;this._addRemoveEvents(!0),this.config.hideWithAnchor&&e&&tt.unobserve(e),w===this&&(w=null),this.config.autoUpdate&&T.delete(this)}handleEvent=e=>{this._updateZindex(),this._handler&&e.currentTarget==this&&this._handler(e,this.el,this),this._anchorHandler&&e.currentTarget==this.anchorEl&&this._anchorHandler(e,this.el,this)};reposition(){let e=this.el;if(!e)return;let i=this.config,s=Q(this,"is-active"),_=window.getComputedStyle(e).display!="none"&&!e.hasAttribute("hidden"),u=this.style.pointerEvents!="none";if(!_||!s){u&&(this.style.pointerEvents="none");return}u||(this.style.pointerEvents="");let y=this.anchorEl;if(!y){this.remove();return}let v=window.getComputedStyle(y),p=y.getBoundingClientRect(),g=null,n=this.arrowEl;n&&(n.style.position="absolute",g=n.getBoundingClientRect());let a=this.getBoundingClientRect();a.height||(a.height=this.el.offsetHeight),a.width||(a.width=this.el.offsetWidth);let C=v.direction==="rtl",d=this.placement||"bottom",h=F(d),D=nt(d),m=ot(d),L=this.ownerDocument.documentElement,x=L.clientWidth,k=L.clientHeight;window.innerWidth-x>20&&(x=window.innerWidth,k=window.innerHeight);let b=0,$=0,X=this.scopeEl;if(X){let r=X.getBoundingClientRect();b=r.x,$=r.y,x=r.x+r.width,k=r.y+r.height}let o=it(p,a,d,C),A=parseInt(this.config.distance);if(et(o,h,A,C),i.flip){let r=!1,l=Math.ceil(o.x),c=Math.ceil(o.y);m=="x"&&(c<$||c>=k)&&(c<$&&c>=k?this.style.maxHeight="90vh":(h=I(h),r=!0)),m=="y"&&(l<b||l>=x)&&(l<b&&l>=x?this.style.maxWidth="90vw":(h=I(h),r=!0)),m=="y"&&L.clientWidth-a.width<100&&(h="top",m="x",r=!0),r&&(this.dataset.flipped="true",d=D?`${h}-${D}`:h,o=it(p,a,d,C),et(o,h,A,C))}else this.dataset.flipped&&(this.dataset.flipped="");let S=0;if((i.shift===null||a.width>p.width)&&(o.x<b?(S=o.x-b+i.shiftPadding,o.x=b+i.shiftPadding,n&&m=="y"&&(o.x+=g.width)):o.x+a.width>x&&(S=x-(o.x+a.width)-i.shiftPadding,o.x+=S)),n){let r=i.arrowPadding||A,l,c;m=="x"&&(l=p.x>o.x?"right":"left",c=a.width/2-g.width/2+S,c>a.width-r&&(c=a.width-r),c<r&&(c=r)),m=="y"&&(l=p.y<o.y?"bottom":"top",c=a.height/2-g.height/2);let ct=I(l),ht=I(h);n.style[h]="unset",n.style[ht]=`${A*-1}px`,n.style[ct]="unset",n.style[l]=`${c}px`}e.classList.contains("tooltip")&&(e.dataset.popperPlacement=d,e.classList.add("bs-tooltip-auto")),e.classList.contains("popover")&&(e.dataset.popperPlacement=d,e.classList.add("bs-popover-auto")),B(this,{left:`${o.x}px`,top:`${o.y}px`})}},N=M;var rt=customElements,at=(t,e)=>{rt.get(t)||rt.define(t,e)};at("anchor-ed",N);var Tt=N;})();
