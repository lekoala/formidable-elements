"use strict";(()=>{function _(e){let t=e;do{if(t.nextSibling){e.parsedCallback();return}t=t.parentNode}while(t);setTimeout(()=>{_(e)})}var Y=0,T="9999",C="9998",S=new Set,A=!1,G=e=>{A=!1,S.forEach(t=>{(e.target instanceof Window||e.target.contains(t))&&t.position()})},Z=e=>{A||requestAnimationFrame(()=>G(e)),A=!0};document.addEventListener("scroll",Z,!0);window.addEventListener("resize",Z);var V=new IntersectionObserver(e=>{e.forEach(t=>{let i=document.querySelector(`anchor-ed[to="${t.target.id}"]`);i&&(t.intersectionRatio<=0?i.setAttribute("hidden",""):t.intersectionRatio&&i.hasAttribute("hidden")&&i.removeAttribute("hidden"),i.position())})}),p;function R(e){return e.split("-")[0]}function q(e){return e.split("-")[1]}function D(e){return["top","bottom"].includes(R(e))?"x":"y"}function J(e){return e==="y"?"height":"width"}function W(e){if(e=="top")return"bottom";if(e=="bottom")return"top";if(e=="left")return"right";if(e=="right")return"left"}function F(e,t,i,r=!1){switch(t){case"top":e.y-=i;break;case"bottom":e.y+=i;break;case"left":e.x+=r?i:-i;break;case"right":e.x+=r?-i:i;break}}function X(e,t,i,r=!1){let l=e.x+e.width/2-t.width/2,m=e.y+e.height/2-t.height/2,b=D(i),c=J(b),h=e[c]/2-t[c]/2,x=R(i),n=b==="x",a;switch(x){case"top":a={x:l,y:e.y-t.height};break;case"bottom":a={x:l,y:e.y+e.height};break;case"right":a={x:e.x+e.width,y:m};break;case"left":a={x:e.x-t.width,y:m};break;default:a={x:e.x,y:e.y}}switch(q(i)){case"start":a[b]-=h*(r&&n?-1:1);break;case"end":a[b]+=h*(r&&n?-1:1);break}return a}var I=class extends HTMLElement{constructor(){super(),this._enabled=!0,this._handler=null,this._events=[],this._targetHandler=null,this._targetEvents=[]}get target(){let t=this.to;if(t)return document.getElementById(t)}get el(){return this.firstElementChild}get placement(){return this.dataset.placement}get scope(){let t=this.getAttribute("scope");if(t)return document.getElementById(t)}get to(){return this.getAttribute("to")}set to(t){this.setAttribute("to",t)}on(t,i){this._events=this._events.concat(t),this._handler=i,this._addRemoveEvents()}onTarget(t,i){this._targetEvents=this._targetEvents.concat(t),this._targetHandler=i,this._addRemoveEvents()}enable(){this._enabled=!0}disable(){this._enabled=!1}_addRemoveEvents(t=!1){let i=t?"removeEventListener":"addEventListener";this._events.forEach(l=>{this[i](l,this)});let r=this.target;r&&this._targetEvents.forEach(l=>{r[i](l,this)})}_updateZindex(){p&&p!=this&&p.style.zIndex!=C&&(p.style.zIndex=C),p=this,this.style.zIndex!=T&&(this.style.zIndex=T)}connectedCallback(){_(this)}parsedCallback(){if(!this.to||this.to=="_next"||this.to=="_prev"){let i=this.to=="_prev"?this.previousElementSibling:this.nextElementSibling;i.id||(i.id=`anchored-${++Y}`),this.to=i.id}let t=this.target;if(!t){console.error(`${this.to} is an invalid target`);return}S.add(this),this.style.position="fixed",this.style.zIndex=C,this.position(),this._addRemoveEvents(),this.dataset.keepVisible||V.observe(t)}disconnectedCallback(){let t=this.target;this._addRemoveEvents(!0),!this.dataset.keepVisible&&t&&V.unobserve(t),p===this&&(p=null),S.delete(this)}handleEvent(t){this._updateZindex(),this._handler&&t.currentTarget==this&&this._enabled&&this._handler(t,this.el,this),this._targetHandler&&t.currentTarget==this.target&&this._targetHandler(t,this.el,this)}position(){let t=this.el;if(!t)return;let r=window.getComputedStyle(t).display!="none"&&!t.hasAttribute("hidden"),l=this.style.pointerEvents!="none";if(!r||!this._enabled){l&&(this.style.pointerEvents="none");return}l||(this.style.pointerEvents="unset");let m=this.target;if(!m){this.remove();return}let b=window.getComputedStyle(m),c=m.getBoundingClientRect(),h=this.dataset.arrow?this.querySelector(this.dataset.arrow):null,x=null;h&&(h.style.position="absolute",x=h.getBoundingClientRect()),Object.assign(this.style,{left:"unset",top:"unset"});let n=this.getBoundingClientRect();n.height||(n.height=this.el.offsetHeight),n.width||(n.width=this.el.offsetWidth);let a=b.direction==="rtl",u=this.placement||"bottom",d=R(u),H=q(u),y=D(u),P=this.ownerDocument.documentElement,w=P.clientWidth,z=P.clientHeight,v=0,B=0,O=this.scope;if(O){let o=O.getBoundingClientRect();v=o.x,B=o.y,w=o.x+o.width,z=o.y+o.height}let s=X(c,n,u,a),f=this.dataset.offset!==void 0?parseInt(this.dataset.offset):0;F(s,d,f,a);let k=!1;y=="x"&&(s.y<B||s.y>=z)&&(d=d=="top"?"bottom":"top",k=!0),y=="y"&&(s.x<v||s.x>=w)&&(d=d=="left"?"right":"left",k=!0),k&&(this.dataset.flipped="true",u=H?`${d}-${H}`:d,s=X(c,n,u,a),F(s,d,f,a));let E=0;if(this.dataset.shift!==void 0||n.width>c.width){let o=parseInt(this.dataset.shift||"0");s.x<v?(E=s.x-v+o,s.x=v+o,h&&y=="y"&&(s.x+=x.width)):s.x+n.width>w&&(E=w-(s.x+n.width)-o,s.x+=E)}if(h){let o,g;y=="x"&&(o=c.x>s.x?"right":"left",g=n.width/2-x.width/2+E,g>n.width-f&&(g=n.width-f),g<f&&(g=f)),y=="y"&&(o=c.y<s.y?"bottom":"top",g=n.height/2-x.height/2);let j=W(o),M=W(d);h.style[M]=`${f*-1}px`,h.style[j]="unset",h.style[o]=`${g}px`}t.classList.contains("tooltip")&&(t.dataset.popperPlacement=u,t.classList.add("bs-tooltip-auto")),t.classList.contains("popover")&&(t.dataset.popperPlacement=u,t.classList.add("bs-popover-auto")),Object.assign(this.style,{left:`${s.x}px`,top:`${s.y}px`})}},L=I;var N=customElements;function $(e,t){N.get(e)||N.define(e,t)}$("anchor-ed",L);var st=L;})();
