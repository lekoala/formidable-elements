"use strict";(()=>{var L=e=>typeof e=="string";var W=e=>e.split(".").reduce((t,i)=>t[i],window);var Z=e=>{L(e)&&(e=e[0]=="{"?JSON.parse(e):W(e));for(let[t,i]of Object.entries(e))if(i&&typeof i=="object"){let s=i.__fn;L(s)?e[t]=W(s):Z(i)}return e},q=Z;var D=e=>{let t=e;do{if(t.nextSibling){e.parsedCallback();return}t=t.parentNode}while(t);setTimeout(()=>{D(e)})},U=D;var R,$=class extends HTMLElement{connectedCallback(){R&&clearTimeout(R),U(this)}disconnectedCallback(){this.disconnected(),R=setTimeout(()=>{this.destroyed(),this.config=null},1e3)}parsedCallback(){this.config||(this.config=q(this.dataset.config||{}),this.created()),this.connected()}created(){}destroyed(){}connected(){}disconnected(){}},Y=$;function ht(e,t,i=null){let s=i?e[i]:e;Object.assign(s,t)}function H(e,t){ht(e,t,"style")}function G(e,t){t=typeof t=="string"?[t]:t,e.classList.add(...t)}function J(e,t){t=typeof t=="string"?[t]:t,e.classList.remove(...t)}function K(e,t){return e.classList.contains(t)}var Q=(e,t)=>{for(let i of t)Object.defineProperty(e,i,{get(){return e.getAttribute(i)},set(s){e.setAttribute(i,s)}})};var lt=0,V="9999",B="9998",O=new Set,T=!1,dt=e=>{O.forEach(t=>{(e.target instanceof Window||e.target.contains(t))&&t.reposition()}),T=!1},it=e=>{T||requestAnimationFrame(()=>dt(e)),T=!0};document.addEventListener("scroll",it,!0);window.addEventListener("resize",it);var j=new IntersectionObserver(e=>{e.forEach(t=>{let i=document.querySelector(`[anchor="${t.target.id}"]`);i&&(t.intersectionRatio<=0?i.setAttribute("hidden",""):t.intersectionRatio&&i.hasAttribute("hidden")&&i.removeAttribute("hidden"),i.reposition())})}),y;function F(e){return e.split("-")[0]}function st(e){return e.split("-")[1]}function nt(e){return["top","bottom"].includes(F(e))?"x":"y"}function ft(e){return e==="y"?"height":"width"}function S(e){if(e=="top")return"bottom";if(e=="bottom")return"top";if(e=="left")return"right";if(e=="right")return"left"}function tt(e,t,i,s=!1){switch(t){case"top":e.y-=i;break;case"bottom":e.y+=i;break;case"left":e.x+=s?i:-i;break;case"right":e.x+=s?-i:i;break;default:console.warn(`Invalid side ${t}`)}}function et(e,t,i,s=!1){let f=e.x+e.width/2-t.width/2,E=e.y+e.height/2-t.height/2,u=nt(i),b=ft(u),_=e[b]/2-t[b]/2,p=F(i),g=u==="x",n;switch(p){case"top":n={x:f,y:e.y-t.height};break;case"bottom":n={x:f,y:e.y+e.height};break;case"right":n={x:e.x+e.width,y:E};break;case"left":n={x:e.x-t.width,y:E};break;default:n={x:e.x,y:e.y}}switch(st(i)){case"start":n[u]-=_*(s&&g?-1:1);break;case"end":n[u]+=_*(s&&g?-1:1);break}return n}var z=class e extends Y{anchor;placement;scope;constructor(){super(),Q(this,e.observedAttributes),this._handler=null,this._events=[],this._anchorHandler=null,this._anchorEvents=[]}enable(){G(this,"is-active")}disable(){J(this,"is-active")}static get observedAttributes(){return["anchor","placement","scope"]}attributeChangedCallback(t,i,s){if(this.config&&s&&s!=i){switch(t){case"anchor":this._findAnchor(s);break;case"scope":this._scopeEl=document.getElementById(s);break;case"placement":this.config.placement=s;break}this.reposition()}}get anchorEl(){return this._anchorEl}get el(){return this.firstElementChild}get arrowEl(){return this._arrowEl}get scopeEl(){return this._scopeEl}on(t,i){this._events=this._events.concat(t),this._handler=i,this._addRemoveEvents()}onTarget(t,i){this._anchorEvents=this._anchorEvents.concat(t),this._anchorHandler=i,this._addRemoveEvents()}_addRemoveEvents(t=!1){let i=t?"removeEventListener":"addEventListener";this._events.forEach(f=>{this[i](f,this)});let s=this.anchorEl;s&&this._anchorEvents.forEach(f=>{s[i](f,this)})}_updateZindex(){y&&y!=this&&y.style.zIndex!=B&&(y.style.zIndex=B),y=this,this.style.zIndex!=V&&(this.style.zIndex=V)}created(){this.config=Object.assign({placement:this.placement||"top",distance:0,flip:!0,shift:null,shiftPadding:0,match:"",arrowSelector:"[class$='-arrow']",arrowPadding:0,autoUpdate:!0,hideWithAnchor:!0},this.config),this.enable(),this._findAnchor(this.anchor),this.scope&&(this._scopeEl=document.getElementById(this.scope),this._scopeEl&&(this.config.shift=!0)),this._arrowEl=this.config.arrowSelector?this.querySelector(this.config.arrowSelector):null,this.arrowEl&&!this.config.arrowPadding&&(this.config.arrowPadding=parseInt(getComputedStyle(this.el).borderRadius))}_findAnchor(t){t||(t="_next");let i=null;["_prev","_next"].includes(t)?i=t=="_prev"?this.previousElementSibling:this.nextElementSibling:i=document.getElementById(t),i&&!i.id&&(i.id=`anchored-${++lt}`),this._anchorEl=i,this.anchor=i.id}connected(){let t=this.anchorEl;if(!t){console.error(`${this.anchor} is invalid`,this);return}this.config.autoUpdate&&O.add(this),H(this,{position:"fixed",zIndex:B}),this.reposition(),this._addRemoveEvents(),this.config.hideWithAnchor&&j.observe(t)}disconnected(){let t=this.anchorEl;this._addRemoveEvents(!0),this.config.hideWithAnchor&&t&&j.unobserve(t),y===this&&(y=null),this.config.autoUpdate&&O.delete(this)}handleEvent=t=>{this._updateZindex(),this._handler&&t.currentTarget==this&&this._handler(t,this.el,this),this._anchorHandler&&t.currentTarget==this.anchorEl&&this._anchorHandler(t,this.el,this)};reposition(){let t=this.el;if(!t)return;let i=this.config,s=K(this,"is-active"),E=window.getComputedStyle(t).display!="none"&&!t.hasAttribute("hidden"),u=this.style.pointerEvents!="none";if(!E||!s){u&&(this.style.pointerEvents="none");return}u||(this.style.pointerEvents="");let b=this.anchorEl;if(!b){this.remove();return}let _=window.getComputedStyle(b),p=b.getBoundingClientRect(),g=null,n=this.arrowEl;n&&(n.style.position="absolute",g=n.getBoundingClientRect());let a=this.getBoundingClientRect();a.height||(a.height=this.el.offsetHeight),a.width||(a.width=this.el.offsetWidth);let v=_.direction==="rtl",d=this.placement||"bottom",h=F(d),N=st(d),m=nt(d),P=this.ownerDocument.documentElement,x=P.clientWidth,C=P.clientHeight;window.innerWidth-x>20&&(x=window.innerWidth,C=window.innerHeight);let w=0,I=0,X=this.scopeEl;if(X){let r=X.getBoundingClientRect();w=r.x,I=r.y,x=r.x+r.width,C=r.y+r.height}let o=et(p,a,d,v),A=parseInt(this.config.distance);if(tt(o,h,A,v),i.flip){let r=!1,l=Math.ceil(o.x),c=Math.ceil(o.y);m=="x"&&(c<I||c>=C)&&(c<I&&c>=C?this.style.maxHeight="90vh":(h=S(h),r=!0)),m=="y"&&(l<w||l>=x)&&(l<w&&l>=x?this.style.maxWidth="90vw":(h=S(h),r=!0)),m=="y"&&P.clientWidth-a.width<100&&(h="top",m="x",r=!0),r&&(this.dataset.flipped="true",d=N?`${h}-${N}`:h,o=et(p,a,d,v),tt(o,h,A,v))}else this.dataset.flipped&&(this.dataset.flipped="");let k=0;if((i.shift===null||a.width>p.width)&&(o.x<w?(k=o.x-w+i.shiftPadding,o.x=w+i.shiftPadding,n&&m=="y"&&(o.x+=g.width)):o.x+a.width>x&&(k=x-(o.x+a.width)-i.shiftPadding,o.x+=k)),n){let r=i.arrowPadding||A,l,c;m=="x"&&(l=p.x>o.x?"right":"left",c=a.width/2-g.width/2+k,c>a.width-r&&(c=a.width-r),c<r&&(c=r)),m=="y"&&(l=p.y<o.y?"bottom":"top",c=a.height/2-g.height/2);let at=S(l),ct=S(h);n.style[h]="unset",n.style[ct]=`${A*-1}px`,n.style[at]="unset",n.style[l]=`${c}px`}t.classList.contains("tooltip")&&(t.dataset.popperPlacement=d,t.classList.add("bs-tooltip-auto")),t.classList.contains("popover")&&(t.dataset.popperPlacement=d,t.classList.add("bs-popover-auto")),H(this,{left:`${o.x}px`,top:`${o.y}px`})}},M=z;var ot=customElements,rt=(e,t)=>{ot.get(e)||ot.define(e,t)};rt("anchor-ed",M);var Rt=M;})();
