"use strict";(()=>{var W=t=>typeof t=="string";var E=t=>t.split(".").reduce((e,i)=>e[i],window);var X=t=>{W(t)&&(t=t[0]=="{"?JSON.parse(t):E(t));for(let[e,i]of Object.entries(t))if(i&&typeof i=="object"){let s=i.__fn;W(s)?t[e]=E(s):X(i)}return t},Z=X;var q=t=>t?(t.includes(":")&&t[0]!="{"&&(t=`{${t.replace(/([\w]*)\s*:\s*([\w"'\[\]]*)/,(e,i,s)=>`"${i}":${s.replace(/'/g,'"')}`)}}`),t[0]=="{"?JSON.parse(t):E(t)):{};var D=t=>{let e=t;do{if(e.nextSibling){t.parsedCallback();return}e=e.parentNode}while(e);setTimeout(()=>{D(t)})},U=D;var $=class extends HTMLElement{connectedCallback(){this._t&&clearTimeout(this._t),U(this)}disconnectedCallback(){this.disconnected(),this._t=setTimeout(()=>{this.destroyed(),this.config=null},1e3)}parsedCallback(){this.config||(this.config=Z(q(this.dataset.config)),this.created()),this.connected()}created(){}destroyed(){}connected(){}disconnected(){}},G=$;function ht(t,e,i=null){let s=i?t[i]:t;Object.assign(s,e)}function R(t,e){ht(t,e,"style")}function J(t,e){e=typeof e=="string"?[e]:e,t.classList.add(...e)}function Y(t,e){e=typeof e=="string"?[e]:e,t.classList.remove(...e)}function K(t,e){return t.classList.contains(e)}var Q=(t,e)=>{for(let i of e)Object.defineProperty(t,i,{get(){return t.getAttribute(i)},set(s){t.setAttribute(i,s)}})};var lt=0,V="9999",H="9998",O=new Set,B=!1,dt=t=>{O.forEach(e=>{(t.target instanceof Window||t.target.contains(e))&&e.reposition()}),B=!1},it=t=>{B||requestAnimationFrame(()=>dt(t)),B=!0};document.addEventListener("scroll",it,!0);window.addEventListener("resize",it);var j=new IntersectionObserver(t=>{t.forEach(e=>{let i=document.querySelector(`[anchor="${e.target.id}"]`);i&&(e.intersectionRatio<=0?i.setAttribute("hidden",""):e.intersectionRatio&&i.hasAttribute("hidden")&&i.removeAttribute("hidden"),i.reposition())})}),y;function z(t){return t.split("-")[0]}function st(t){return t.split("-")[1]}function nt(t){return["top","bottom"].includes(z(t))?"x":"y"}function ft(t){return t==="y"?"height":"width"}function P(t){if(t=="top")return"bottom";if(t=="bottom")return"top";if(t=="left")return"right";if(t=="right")return"left"}function tt(t,e,i,s=!1){switch(e){case"top":t.y-=i;break;case"bottom":t.y+=i;break;case"left":t.x+=s?i:-i;break;case"right":t.x+=s?-i:i;break;default:console.warn(`Invalid side ${e}`)}}function et(t,e,i,s=!1){let f=t.x+t.width/2-e.width/2,_=t.y+t.height/2-e.height/2,u=nt(i),w=ft(u),v=t[w]/2-e[w]/2,p=z(i),g=u==="x",n;switch(p){case"top":n={x:f,y:t.y-e.height};break;case"bottom":n={x:f,y:t.y+t.height};break;case"right":n={x:t.x+t.width,y:_};break;case"left":n={x:t.x-e.width,y:_};break;default:n={x:t.x,y:t.y}}switch(st(i)){case"start":n[u]-=v*(s&&g?-1:1);break;case"end":n[u]+=v*(s&&g?-1:1);break}return n}var T=class t extends G{anchor;placement;scope;constructor(){super(),Q(this,t.observedAttributes),this._handler=null,this._events=[],this._anchorHandler=null,this._anchorEvents=[]}enable(){J(this,"is-active")}disable(){Y(this,"is-active")}static get observedAttributes(){return["anchor","placement","scope"]}attributeChangedCallback(e,i,s){if(this.config&&s&&s!=i){switch(e){case"anchor":this._findAnchor(s);break;case"scope":this._scopeEl=document.getElementById(s);break;case"placement":this.config.placement=s;break}this.reposition()}}get anchorEl(){return this._anchorEl}get el(){return this.firstElementChild}get arrowEl(){return this._arrowEl}get scopeEl(){return this._scopeEl}on(e,i){this._events=this._events.concat(e),this._handler=i,this._addRemoveEvents()}onTarget(e,i){this._anchorEvents=this._anchorEvents.concat(e),this._anchorHandler=i,this._addRemoveEvents()}_addRemoveEvents(e=!1){let i=e?"removeEventListener":"addEventListener";this._events.forEach(f=>{this[i](f,this)});let s=this.anchorEl;s&&this._anchorEvents.forEach(f=>{s[i](f,this)})}_updateZindex(){y&&y!=this&&y.style.zIndex!=H&&(y.style.zIndex=H),y=this,this.style.zIndex!=V&&(this.style.zIndex=V)}created(){this.config=Object.assign({placement:this.placement||"top",distance:0,flip:!0,shift:null,shiftPadding:0,match:"",arrowSelector:"[class$='-arrow']",arrowPadding:0,autoUpdate:!0,hideWithAnchor:!0},this.config),this.enable(),this._findAnchor(this.anchor),this.scope&&(this._scopeEl=document.getElementById(this.scope),this._scopeEl&&(this.config.shift=!0)),this._arrowEl=this.config.arrowSelector?this.querySelector(this.config.arrowSelector):null,this.arrowEl&&!this.config.arrowPadding&&(this.config.arrowPadding=parseInt(getComputedStyle(this.el).borderRadius))}_findAnchor(e){e||(e="_next");let i=null;["_prev","_next"].includes(e)?i=e=="_prev"?this.previousElementSibling:this.nextElementSibling:i=document.getElementById(e),i&&!i.id&&(i.id=`anchored-${++lt}`),this._anchorEl=i,this.anchor=i.id}connected(){let e=this.anchorEl;if(!e){console.error(`${this.anchor} is invalid`,this);return}this.config.autoUpdate&&O.add(this),R(this,{position:"fixed",zIndex:H}),this.reposition(),this._addRemoveEvents(),this.config.hideWithAnchor&&j.observe(e)}disconnected(){let e=this.anchorEl;this._addRemoveEvents(!0),this.config.hideWithAnchor&&e&&j.unobserve(e),y===this&&(y=null),this.config.autoUpdate&&O.delete(this)}handleEvent=e=>{this._updateZindex(),this._handler&&e.currentTarget==this&&this._handler(e,this.el,this),this._anchorHandler&&e.currentTarget==this.anchorEl&&this._anchorHandler(e,this.el,this)};reposition(){let e=this.el;if(!e)return;let i=this.config,s=K(this,"is-active"),_=window.getComputedStyle(e).display!="none"&&!e.hasAttribute("hidden"),u=this.style.pointerEvents!="none";if(!_||!s){u&&(this.style.pointerEvents="none");return}u||(this.style.pointerEvents="");let w=this.anchorEl;if(!w){this.remove();return}let v=window.getComputedStyle(w),p=w.getBoundingClientRect(),g=null,n=this.arrowEl;n&&(n.style.position="absolute",g=n.getBoundingClientRect());let a=this.getBoundingClientRect();a.height||(a.height=this.el.offsetHeight),a.width||(a.width=this.el.offsetWidth);let C=v.direction==="rtl",d=this.placement||"bottom",h=z(d),N=st(d),m=nt(d),I=this.ownerDocument.documentElement,x=I.clientWidth,A=I.clientHeight;window.innerWidth-x>20&&(x=window.innerWidth,A=window.innerHeight);let b=0,L=0,M=this.scopeEl;if(M){let r=M.getBoundingClientRect();b=r.x,L=r.y,x=r.x+r.width,A=r.y+r.height}let o=et(p,a,d,C),k=parseInt(this.config.distance);if(tt(o,h,k,C),i.flip){let r=!1,l=Math.ceil(o.x),c=Math.ceil(o.y);m=="x"&&(c<L||c>=A)&&(c<L&&c>=A?this.style.maxHeight="90vh":(h=P(h),r=!0)),m=="y"&&(l<b||l>=x)&&(l<b&&l>=x?this.style.maxWidth="90vw":(h=P(h),r=!0)),m=="y"&&I.clientWidth-a.width<100&&(h="top",m="x",r=!0),r&&(this.dataset.flipped="true",d=N?`${h}-${N}`:h,o=et(p,a,d,C),tt(o,h,k,C))}else this.dataset.flipped&&(this.dataset.flipped="");let S=0;if((i.shift===null||a.width>p.width)&&(o.x<b?(S=o.x-b+i.shiftPadding,o.x=b+i.shiftPadding,n&&m=="y"&&(o.x+=g.width)):o.x+a.width>x&&(S=x-(o.x+a.width)-i.shiftPadding,o.x+=S)),n){let r=i.arrowPadding||k,l,c;m=="x"&&(l=p.x>o.x?"right":"left",c=a.width/2-g.width/2+S,c>a.width-r&&(c=a.width-r),c<r&&(c=r)),m=="y"&&(l=p.y<o.y?"bottom":"top",c=a.height/2-g.height/2);let at=P(l),ct=P(h);n.style[h]="unset",n.style[ct]=`${k*-1}px`,n.style[at]="unset",n.style[l]=`${c}px`}e.classList.contains("tooltip")&&(e.dataset.popperPlacement=d,e.classList.add("bs-tooltip-auto")),e.classList.contains("popover")&&(e.dataset.popperPlacement=d,e.classList.add("bs-popover-auto")),R(this,{left:`${o.x}px`,top:`${o.y}px`})}},F=T;var ot=customElements,rt=(t,e)=>{ot.get(t)||ot.define(t,e)};rt("anchor-ed",F);var Ot=F;})();
