"use strict";(()=>{var o=t=>typeof t=="string";var r=t=>t.split(".").reduce((e,s)=>e[s],window);var d=t=>{o(t)&&(t=t[0]=="{"?JSON.parse(t):r(t));for(let[e,s]of Object.entries(t))if(s&&typeof s=="object"){let i=s.__fn;o(i)?t[e]=r(i):d(s)}return t},f=d;var h=t=>{let e=t;do{if(e.nextSibling){t.parsedCallback();return}e=e.parentNode}while(e);setTimeout(()=>{h(t)})},p=h;var a,c=class extends HTMLElement{connectedCallback(){a&&clearTimeout(a),p(this)}disconnectedCallback(){this.disconnected(),a=setTimeout(()=>{this.destroyed(),this.config=null},1e3)}parsedCallback(){this.config||(this.config=f(this.dataset.config||{}),this.created()),this.connected()}created(){}destroyed(){}connected(){}disconnected(){}},u=c;var n=class extends u{get el(){return this.firstElementChild}created(){this.successMessage=this.dataset.success||"Data copied to the clipboard",this.errorMessage=this.dataset.error||"Failed to copy data to the clipboard",this.handleEvent=e=>{this._handleEvent(e)}}handleEvent(e){this._handleEvent(e)}_handleEvent(e){let s=this.dataset.value;this.dataset.selector&&(s=document.querySelector(this.dataset.selector).value),this.copyTextToClipboard(s)}connected(){this.el.addEventListener("click",this)}disconnected(){this.el.removeEventListener("click",this)}notify(e,s){let i="globalNotifier";window[i]&&window[i](e,{type:s?"success":"error"})}fallbackCopyTextToClipboard(e){let s=document.createElement("textarea");s.value=e,s.style.cssText="top:0;left:0;position:fixed",document.body.appendChild(s),s.focus(),s.select();let i=!1;try{i=document.execCommand("copy")}catch{}this.notify(i?this.successMessage:this.errorMessage,i),document.body.removeChild(s)}copyTextToClipboard(e){if(!navigator.clipboard){this.fallbackCopyTextToClipboard(e);return}navigator.clipboard.writeText(e).then(()=>{this.notify(this.successMessage,!0)},s=>{this.notify(this.errorMessage,!1)})}},l=n;var m=customElements,y=(t,e)=>{m.get(t)||m.define(t,e)};y("clipboard-copy",l);var O=l;})();
