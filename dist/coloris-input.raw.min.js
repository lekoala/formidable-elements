"use strict";(()=>{var E=(()=>{return((n,s,f,g)=>{let W=s.createElement("canvas").getContext("2d"),H={r:0,g:0,b:0,h:0,s:0,v:0,a:1},L,c,v,m,Y,w,I,M,O,J,P,$,p,F,S,z,k={},r={el:"[data-coloris]",parent:"body",theme:"default",themeMode:"light",rtl:!1,wrap:!0,margin:2,format:"hex",formatToggle:!1,swatches:[],swatchesOnly:!1,alpha:!0,forceAlpha:!1,focusInput:!0,selectInput:!1,inline:!1,defaultColor:"#000000",clearButton:!1,clearLabel:"Clear",closeButton:!1,closeLabel:"Close",onChange:()=>g,a11y:{open:"Open color picker",close:"Close color picker",clear:"Clear the selected color",marker:"Saturation: {s}. Brightness: {v}.",hueSlider:"Hue slider",alphaSlider:"Opacity slider",input:"Color value field",format:"Color format",swatch:"Color swatch",instruction:"Saturation and brightness selector. Use up, down, left and right arrow keys to select."}},R={},Q="",D={},_=!1;function K(e){if(typeof e=="object")for(let t in e)switch(t){case"el":ee(e.el),e.wrap!==!1&&X(e.el);break;case"parent":L=s.querySelector(e.parent),L&&(L.appendChild(c),r.parent=e.parent,L===s.body&&(L=g));break;case"themeMode":r.themeMode=e.themeMode,e.themeMode==="auto"&&n.matchMedia&&n.matchMedia("(prefers-color-scheme: dark)").matches&&(r.themeMode="dark");case"theme":e.theme&&(r.theme=e.theme),c.className=`clr-picker clr-${r.theme} clr-${r.themeMode}`,r.inline&&G();break;case"rtl":r.rtl=!!e.rtl,s.querySelectorAll(".clr-field").forEach(o=>o.classList.toggle("clr-rtl",r.rtl));break;case"margin":e.margin*=1,r.margin=isNaN(e.margin)?r.margin:e.margin;break;case"wrap":e.el&&e.wrap&&X(e.el);break;case"formatToggle":r.formatToggle=!!e.formatToggle,b("clr-format").style.display=r.formatToggle?"block":"none",r.formatToggle&&(r.format="auto");break;case"swatches":if(Array.isArray(e.swatches)){let o=[];e.swatches.forEach((i,d)=>{o.push(`<button type="button" id="clr-swatch-${d}" aria-labelledby="clr-swatch-label clr-swatch-${d}" style="color: ${i};">${i}</button>`)}),b("clr-swatches").innerHTML=o.length?`<div>${o.join("")}</div>`:"",r.swatches=e.swatches.slice()}break;case"swatchesOnly":r.swatchesOnly=!!e.swatchesOnly,c.setAttribute("data-minimal",r.swatchesOnly);break;case"alpha":r.alpha=!!e.alpha,c.setAttribute("data-alpha",r.alpha);break;case"inline":if(r.inline=!!e.inline,c.setAttribute("data-inline",r.inline),r.inline){let o=e.defaultColor||r.defaultColor;F=te(o),G(),V(o)}break;case"clearButton":typeof e.clearButton=="object"&&(e.clearButton.label&&(r.clearLabel=e.clearButton.label,I.innerHTML=r.clearLabel),e.clearButton=e.clearButton.show),r.clearButton=!!e.clearButton,I.style.display=r.clearButton?"block":"none";break;case"clearLabel":r.clearLabel=e.clearLabel,I.innerHTML=r.clearLabel;break;case"closeButton":r.closeButton=!!e.closeButton,r.closeButton?c.insertBefore(M,Y):Y.appendChild(M);break;case"closeLabel":r.closeLabel=e.closeLabel,M.innerHTML=r.closeLabel;break;case"a11y":let l=e.a11y,a=!1;if(typeof l=="object")for(let o in l)l[o]&&r.a11y[o]&&(r.a11y[o]=l[o],a=!0);if(a){let o=b("clr-open-label"),i=b("clr-swatch-label");o.innerHTML=r.a11y.open,i.innerHTML=r.a11y.swatch,M.setAttribute("aria-label",r.a11y.close),I.setAttribute("aria-label",r.a11y.clear),O.setAttribute("aria-label",r.a11y.hueSlider),P.setAttribute("aria-label",r.a11y.alphaSlider),w.setAttribute("aria-label",r.a11y.input),v.setAttribute("aria-label",r.a11y.instruction)}break;default:r[t]=e[t]}}function Ee(e,t){typeof e=="string"&&typeof t=="object"&&(R[e]=t,_=!0)}function $e(e){delete R[e],Object.keys(R).length===0&&(_=!1,e===Q&&Z())}function ie(e){if(_){let t=["el","wrap","rtl","inline","defaultColor","a11y"];for(let l in R){let a=R[l];if(e.matches(l)){Q=l,D={},t.forEach(o=>delete a[o]);for(let o in a)D[o]=Array.isArray(r[o])?r[o].slice():r[o];K(a);break}}}}function Z(){Object.keys(D).length>0&&(K(D),Q="",D={})}function ee(e){u(s,"click",e,t=>{r.inline||(ie(t.target),p=t.target,S=p.value,F=te(S),c.classList.add("clr-open"),G(),V(S),(r.focusInput||r.selectInput)&&(w.focus({preventScroll:!0}),w.setSelectionRange(p.selectionStart,p.selectionEnd)),r.selectInput&&w.select(),(z||r.swatchesOnly)&&de().shift().focus(),p.dispatchEvent(new Event("open",{bubbles:!0})))}),u(s,"input",e,t=>{let l=t.target.parentNode;l.classList.contains("clr-field")&&(l.style.color=t.target.value)})}function G(){if(!c||!p&&!r.inline)return;let e=L,t=n.scrollY,l=c.offsetWidth,a=c.offsetHeight,o={left:!1,top:!1},i,d,x,h={x:0,y:0};if(e&&(i=n.getComputedStyle(e),d=parseFloat(i.marginTop),x=parseFloat(i.borderTopWidth),h=e.getBoundingClientRect(),h.y+=x+t),!r.inline){let y=p.getBoundingClientRect(),C=y.x,B=t+y.y+y.height+r.margin;e?(C-=h.x,B-=h.y,C+l>e.clientWidth&&(C+=y.width-l,o.left=!0),B+a>e.clientHeight-d&&a+r.margin<=y.top-(h.y-t)&&(B-=y.height+a+r.margin*2,o.top=!0),B+=e.scrollTop):(C+l>s.documentElement.clientWidth&&(C+=y.width-l,o.left=!0),B+a-t>s.documentElement.clientHeight&&a+r.margin<=y.top&&(B=t+y.y-a-r.margin,o.top=!0)),c.classList.toggle("clr-left",o.left),c.classList.toggle("clr-top",o.top),c.style.left=`${C}px`,c.style.top=`${B}px`,h.x+=c.offsetLeft,h.y+=c.offsetTop}k={width:v.offsetWidth,height:v.offsetHeight,x:v.offsetLeft+h.x,y:v.offsetTop+h.y}}function X(e){s.querySelectorAll(e).forEach(t=>{let l=t.parentNode;if(!l.classList.contains("clr-field")){let a=s.createElement("div"),o="clr-field";(r.rtl||t.classList.contains("clr-rtl"))&&(o+=" clr-rtl"),a.innerHTML='<button type="button" aria-labelledby="clr-open-label"></button>',l.insertBefore(a,t),a.setAttribute("class",o),a.style.color=t.value,a.appendChild(t)}})}function N(e){if(p&&!r.inline){let t=p;e&&(p=g,S!==t.value&&(t.value=S,t.dispatchEvent(new Event("input",{bubbles:!0})))),setTimeout(()=>{S!==t.value&&t.dispatchEvent(new Event("change",{bubbles:!0}))}),c.classList.remove("clr-open"),_&&Z(),t.dispatchEvent(new Event("close",{bubbles:!0})),r.focusInput&&t.focus({preventScroll:!0}),p=g}}function V(e){let t=Me(e),l=Ie(t);fe(l.s,l.v),j(t,l),O.value=l.h,c.style.color=`hsl(${l.h}, 100%, 50%)`,J.style.left=`${l.h/360*100}%`,m.style.left=`${k.width*l.s/100}px`,m.style.top=`${k.height-k.height*l.v/100}px`,P.value=l.a*100,$.style.left=`${l.a*100}%`}function te(e){let t=e.substring(0,3).toLowerCase();return t==="rgb"||t==="hsl"?t:"hex"}function A(e){e=e!==g?e:w.value,p&&(p.value=e,p.dispatchEvent(new Event("input",{bubbles:!0}))),r.onChange&&r.onChange.call(n,e,p),s.dispatchEvent(new CustomEvent("coloris:pick",{detail:{color:e,currentEl:p}}))}function ce(e,t){let l={h:O.value*1,s:e/k.width*100,v:100-t/k.height*100,a:P.value/100},a=Be(l);fe(l.s,l.v),j(a,l),A()}function fe(e,t){let l=r.a11y.marker;e=e.toFixed(1)*1,t=t.toFixed(1)*1,l=l.replace("{s}",e),l=l.replace("{v}",t),m.setAttribute("aria-label",l)}function Se(e){return{pageX:e.changedTouches?e.changedTouches[0].pageX:e.pageX,pageY:e.changedTouches?e.changedTouches[0].pageY:e.pageY}}function T(e){let t=Se(e),l=t.pageX-k.x,a=t.pageY-k.y;L&&(a+=L.scrollTop),ue(l,a),e.preventDefault(),e.stopPropagation()}function Ae(e,t){let l=m.style.left.replace("px","")*1+e,a=m.style.top.replace("px","")*1+t;ue(l,a)}function ue(e,t){e=e<0?0:e>k.width?k.width:e,t=t<0?0:t>k.height?k.height:t,m.style.left=`${e}px`,m.style.top=`${t}px`,ce(e,t),m.focus()}function j(e,t){e===void 0&&(e={}),t===void 0&&(t={});let l=r.format;for(let i in e)H[i]=e[i];for(let i in t)H[i]=t[i];let a=Oe(H),o=a.substring(0,7);switch(m.style.color=o,$.parentNode.style.color=o,$.style.color=a,Y.style.color=a,v.style.display="none",v.offsetHeight,v.style.display="",$.nextElementSibling.style.display="none",$.nextElementSibling.offsetHeight,$.nextElementSibling.style.display="",l==="mixed"?l=H.a===1?"hex":"rgb":l==="auto"&&(l=F),l){case"hex":w.value=a;break;case"rgb":w.value=Pe(H);break;case"hsl":w.value=Ne(He(H));break}s.querySelector(`.clr-format [value="${l}"]`).checked=!0}function Ce(){let e=O.value*1,t=m.style.left.replace("px","")*1,l=m.style.top.replace("px","")*1;c.style.color=`hsl(${e}, 100%, 50%)`,J.style.left=`${e/360*100}%`,ce(t,l)}function Te(){let e=P.value/100;$.style.left=`${e*100}%`,j({a:e}),A()}function Be(e){let t=e.s/100,l=e.v/100,a=t*l,o=e.h/60,i=a*(1-f.abs(o%2-1)),d=l-a;a=a+d,i=i+d;let x=f.floor(o)%6,h=[a,i,d,d,i,a][x],y=[i,a,a,i,d,d][x],C=[d,d,i,a,a,i][x];return{r:f.round(h*255),g:f.round(y*255),b:f.round(C*255),a:e.a}}function He(e){let t=e.v/100,l=t*(1-e.s/100/2),a;return l>0&&l<1&&(a=f.round((t-l)/f.min(l,1-l)*100)),{h:e.h,s:a||0,l:f.round(l*100),a:e.a}}function Ie(e){let t=e.r/255,l=e.g/255,a=e.b/255,o=f.max(t,l,a),i=f.min(t,l,a),d=o-i,x=o,h=0,y=0;return d&&(o===t&&(h=(l-a)/d),o===l&&(h=2+(a-t)/d),o===a&&(h=4+(t-l)/d),o&&(y=d/o)),h=f.floor(h*60),{h:h<0?h+360:h,s:f.round(y*100),v:f.round(x*100),a:e.a}}function Me(e){let t=/^((rgba)|rgb)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i,l,a;return W.fillStyle="#000",W.fillStyle=e,l=t.exec(W.fillStyle),l?(a={r:l[3]*1,g:l[4]*1,b:l[5]*1,a:l[6]*1},a.a=+a.a.toFixed(2)):(l=W.fillStyle.replace("#","").match(/.{2}/g).map(o=>parseInt(o,16)),a={r:l[0],g:l[1],b:l[2],a:1}),a}function Oe(e){let t=e.r.toString(16),l=e.g.toString(16),a=e.b.toString(16),o="";if(e.r<16&&(t="0"+t),e.g<16&&(l="0"+l),e.b<16&&(a="0"+a),r.alpha&&(e.a<1||r.forceAlpha)){let i=e.a*255|0;o=i.toString(16),i<16&&(o="0"+o)}return"#"+t+l+a+o}function Pe(e){return!r.alpha||e.a===1&&!r.forceAlpha?`rgb(${e.r}, ${e.g}, ${e.b})`:`rgba(${e.r}, ${e.g}, ${e.b}, ${e.a})`}function Ne(e){return!r.alpha||e.a===1&&!r.forceAlpha?`hsl(${e.h}, ${e.s}%, ${e.l}%)`:`hsla(${e.h}, ${e.s}%, ${e.l}%, ${e.a})`}function Fe(){s.getElementById("clr-picker")||(L=g,c=s.createElement("div"),c.setAttribute("id","clr-picker"),c.className="clr-picker",c.innerHTML=`<input id="clr-color-value" name="clr-color-value" class="clr-color" type="text" value="" spellcheck="false" aria-label="${r.a11y.input}"><div id="clr-color-area" class="clr-gradient" role="application" aria-label="${r.a11y.instruction}"><div id="clr-color-marker" class="clr-marker" tabindex="0"></div></div><div class="clr-hue"><input id="clr-hue-slider" name="clr-hue-slider" type="range" min="0" max="360" step="1" aria-label="${r.a11y.hueSlider}"><div id="clr-hue-marker"></div></div><div class="clr-alpha"><input id="clr-alpha-slider" name="clr-alpha-slider" type="range" min="0" max="100" step="1" aria-label="${r.a11y.alphaSlider}"><div id="clr-alpha-marker"></div><span></span></div><div id="clr-format" class="clr-format"><fieldset class="clr-segmented"><legend>${r.a11y.format}</legend><input id="clr-f1" type="radio" name="clr-format" value="hex"><label for="clr-f1">Hex</label><input id="clr-f2" type="radio" name="clr-format" value="rgb"><label for="clr-f2">RGB</label><input id="clr-f3" type="radio" name="clr-format" value="hsl"><label for="clr-f3">HSL</label><span></span></fieldset></div><div id="clr-swatches" class="clr-swatches"></div><button type="button" id="clr-clear" class="clr-clear" aria-label="${r.a11y.clear}">${r.clearLabel}</button><div id="clr-color-preview" class="clr-preview"><button type="button" id="clr-close" class="clr-close" aria-label="${r.a11y.close}">${r.closeLabel}</button></div><span id="clr-open-label" hidden>${r.a11y.open}</span><span id="clr-swatch-label" hidden>${r.a11y.swatch}</span>`,s.body.appendChild(c),v=b("clr-color-area"),m=b("clr-color-marker"),I=b("clr-clear"),M=b("clr-close"),Y=b("clr-color-preview"),w=b("clr-color-value"),O=b("clr-hue-slider"),J=b("clr-hue-marker"),P=b("clr-alpha-slider"),$=b("clr-alpha-marker"),ee(r.el),X(r.el),u(c,"mousedown",e=>{c.classList.remove("clr-keyboard-nav"),e.stopPropagation()}),u(v,"mousedown",e=>{u(s,"mousemove",T)}),u(v,"touchstart",e=>{s.addEventListener("touchmove",T,{passive:!1})}),u(m,"mousedown",e=>{u(s,"mousemove",T)}),u(m,"touchstart",e=>{s.addEventListener("touchmove",T,{passive:!1})}),u(w,"change",e=>{let t=w.value;if(p||r.inline){let l=t===""?t:V(t);A(l)}}),u(I,"click",e=>{A(""),N()}),u(M,"click",e=>{A(),N()}),u(b("clr-format"),"click",".clr-format input",e=>{F=e.target.value,j(),A()}),u(c,"click",".clr-swatches button",e=>{V(e.target.textContent),A(),r.swatchesOnly&&N()}),u(s,"mouseup",e=>{s.removeEventListener("mousemove",T)}),u(s,"touchend",e=>{s.removeEventListener("touchmove",T)}),u(s,"mousedown",e=>{z=!1,c.classList.remove("clr-keyboard-nav"),N()}),u(s,"keydown",e=>{let t=e.key,l=e.target,a=e.shiftKey;if(t==="Escape"?N(!0):["Tab","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(t)&&(z=!0,c.classList.add("clr-keyboard-nav")),t==="Tab"&&l.matches(".clr-picker *")){let i=de(),d=i.shift(),x=i.pop();a&&l===d?(x.focus(),e.preventDefault()):!a&&l===x&&(d.focus(),e.preventDefault())}}),u(s,"click",".clr-field button",e=>{_&&Z(),e.target.nextElementSibling.dispatchEvent(new Event("click",{bubbles:!0}))}),u(m,"keydown",e=>{let t={ArrowUp:[0,-1],ArrowDown:[0,1],ArrowLeft:[-1,0],ArrowRight:[1,0]};Object.keys(t).includes(e.key)&&(Ae(...t[e.key]),e.preventDefault())}),u(v,"click",T),u(O,"input",Ce),u(P,"input",Te))}function de(){return Array.from(c.querySelectorAll("input, button")).filter(l=>!!l.offsetWidth)}function b(e){return s.getElementById(e)}function u(e,t,l,a){let o=Element.prototype.matches||Element.prototype.msMatchesSelector;typeof l=="string"?e.addEventListener(t,i=>{o.call(i.target,l)&&a.call(i.target,i)}):(a=l,e.addEventListener(t,a))}function U(e,t){t=t!==g?t:[],s.readyState!=="loading"?e(...t):s.addEventListener("DOMContentLoaded",()=>{e(...t)})}NodeList!==g&&NodeList.prototype&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);function Re(e,t){p=t,S=p.value,ie(t),F=te(e),G(),V(e),A(),S!==e&&p.dispatchEvent(new Event("change",{bubbles:!0}))}let le=(()=>{let e={init:Fe,set:K,wrap:X,close:N,setInstance:Ee,setColor:Re,removeInstance:$e,updatePosition:G,ready:U};function t(l){U(()=>{l&&(typeof l=="string"?ee(l):K(l))})}for(let l in e)t[l]=function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];U(e[l],o)};return U(()=>{n.addEventListener("resize",l=>{t.updatePosition()}),n.addEventListener("scroll",l=>{t.updatePosition()})}),t})();return le.coloris=le,le})(window,document,Math)})(),Ve=E.coloris,qe=E.init,We=E.set,Ye=E.wrap,Ke=E.close,Xe=E.setInstance,je=E.removeInstance,Ue=E.updatePosition,q=E;var re=n=>typeof n=="string";var ae=n=>n.split(".").reduce((s,f)=>s[f],window);var pe=n=>{re(n)&&(n=n[0]=="{"?JSON.parse(n):ae(n));for(let[s,f]of Object.entries(n))if(f&&typeof f=="object"){let g=f.__fn;re(g)?n[s]=ae(g):pe(f)}return n},he=pe;var me=n=>n?(n.includes(":")&&n[0]!="{"&&(n=`{${n.replace(/([\w]*)\s*:\s*([\w"']*)/,(s,f,g)=>`"${f}":${g.replace(/'/g,'"')}`)}}`),JSON.parse(n)):{};var be=n=>{let s=n;do{if(s.nextSibling){n.parsedCallback();return}s=s.parentNode}while(s);setTimeout(()=>{be(n)})},ye=be;var oe=class extends HTMLElement{connectedCallback(){this._t&&clearTimeout(this._t),ye(this)}disconnectedCallback(){this.disconnected(),this._t=setTimeout(()=>{this.destroyed(),this.config=null},1e3)}parsedCallback(){this.config||(this.config=he(me(this.dataset.config)),this.created()),this.connected()}created(){}destroyed(){}connected(){}disconnected(){}},ge=oe;var ve=0,ke=(n,s)=>{ve++;let f=n.id||`${s}-${ve}`;return n.id=f,f};var we=(n=document.documentElement)=>getComputedStyle(n).direction==="rtl";var De=document.documentElement.dataset.bsTheme||"auto",_e=we(),Ge="coloris-input";q.init();var se=class extends ge{get el(){return this.querySelector("input")}get value(){return this.el.value}created(){let s=ke(this.el,Ge);this.el.autocomplete="off",q.coloris({el:`#${s}`,rtl:_e,themeMode:De}),q.set(`#${s}`,this.config)}destroyed(){let s=this.el.id;q.removeInstance(`#${s}`)}},ne=se;var xe=customElements,Le=(n,s)=>{xe.get(n)||xe.define(n,s)};Le("coloris-input",ne);var gt=ne;})();
/*! Bundled license information:

@melloware/coloris/dist/esm/coloris.js:
  (*!
  * Copyright (c) 2021-2023 Momo Bassit.
  * Licensed under the MIT License (MIT)
  * https://github.com/mdbassit/Coloris
  * Version: 0.21.1
  * NPM: https://github.com/melloware/coloris-npm
  *)
*/
