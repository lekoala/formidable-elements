"use strict";(()=>{var u=e=>typeof e=="string";var l=e=>e.split(".").reduce((t,n)=>t[n],window);var x=e=>{u(e)&&(e=e[0]=="{"?JSON.parse(e):l(e));for(let[t,n]of Object.entries(e))if(n&&typeof n=="object"){let i=n.__fn;u(i)?e[t]=l(i):x(n)}return e},v=x;var M=e=>e?(e[0]!="{"&&e.includes(":")&&(e=`{${e.replace(/([\w]*)\s*:\s*([\w"'\[\]]*)/,(t,n,i)=>`"${n}":${i.replace(/'/g,'"')}`)}}`),e[0]=="{"?JSON.parse(e):l(e)):{};var I=e=>{let t=e;do{if(t.nextSibling){e.parsedCallback();return}t=t.parentNode}while(t);setTimeout(()=>{e.parsedCallback()})},C=I;var h="__fe_id";window[h]=window[h]||0;var d=new Map,g=class extends HTMLElement{constructor(){super(),this.id=this.id||`fe-${window[h]++}`;let t=d.get(this.id);t?t!=this.innerHTML&&(this.innerHTML=t):d.set(this.id,this.innerHTML)}connectedCallback(){this._t&&clearTimeout(this._t),C(this)}disconnectedCallback(){this.disconnected(),this._t=setTimeout(()=>{this.destroyed(),this.config=null,document.getElementById(this.id)||d.delete(this.id)},1e3)}parsedCallback(){this.config||(this.config=v(M(this.dataset.config)),this.created()),this.connected()}created(){}destroyed(){}connected(){}disconnected(){}},k=g;function S(e,t=null){t||(t=new Date);let n=t instanceof Date?t.getTime():t;return e.seconds&&(n+=1e3*e.seconds),e.minutes&&(n+=1e3*60*e.minutes),e.hours&&(n+=1e3*60*60*e.hours),e.days&&(n+=1e3*60*60*24*e.days),new Date(n)}function H(e){let t=e instanceof Date?e.getTime():e;return{days:Math.floor(t/(1e3*60*60*24)),hours:Math.floor(t%(1e3*60*60*24)/(1e3*60*60)),minutes:Math.floor(t%(1e3*60*60)/(1e3*60)),seconds:Math.floor(t%(1e3*60)/1e3)}}function a(e=null){return e?e instanceof Date?e:new Date(q(e)):new Date}function q(e){let t="0000-01-01 00:00:00";for(;e.length<t.length;)e+=t[e.length];return e}function p(e){return e=a(e),e.getHours()==0&&e.getMinutes()==0&&e.getSeconds()==0}function m(){let e=new Date;return e.setHours(0,0,0,0),e}function O(e,t,n){return t=t||e,n.nodeType==1&&(t=`:scope ${t}`),t}function w(e,t=null,n=document){return n.querySelector(O(e,t,n))}var E=(e,t="default",n=null)=>{let i=customElements.get("locale-provider");return i?Object.assign(n||{},i.for(e,t)):n};var P="count-down";function D(e,t=2){return e.toString().padStart(t,"0")}function F(e,t,n=2){let i={seconds:60,minutes:60,hours:24,days:1},c=0,f=!1;for(let[o,s]of Object.entries(i)){let r=e[o];o==t?(c+=r,f=!0):f?c+=r*s:c+=r/s}return(Math.round(c*100)/100).toFixed(n)}function y(e,t){let n=H(e.diff);if(t.config.unit)e[t.config.unit]=F(n,t.config.unit,t.config.decimalDigits);else{let i=t.config.pad?2:1;e.days=n.days.toString(),e.hours=D(n.hours,i),e.minutes=D(n.minutes,i),e.seconds=D(n.seconds,i)}for(let[i,c]of Object.entries(t.config.labels)){let f=w(`.${i} .value`,null,t),o=w(`.${i} .label`,null,t);f&&f.innerHTML!=e[i]&&(f.innerHTML=e[i],i==="days"&&e[i]=="0"&&f.parentElement.setAttribute("hidden","")),o&&(o.dataset.singular&&(e[i]=="1"||e[i]=="01")?o.innerHTML=o.dataset.singular:o.dataset.plural&&(o.innerHTML=o.dataset.plural))}}function $(e,t){return e.diff>0?!1:(clearInterval(t.interval),e.diff=0,y(e,t),t.config.onComplete&&t.config.onComplete(t),t.config.reloadOnComplete?window.location.reload():t.config.url&&window.location.replace(t.config.url),!0)}var T=class extends k{created(){this.config=Object.assign({locale:this.dataset.locale||"default",timer:!0,pad:!1,decimalDigits:0,labels:{days:"d",hours:"h",minutes:"m",seconds:"s"},interval:1e3},this.config),this.config.labels=E(P,this.config.locale,this.config.labels),["start","end","url"].forEach(s=>{let r=this.dataset[s];r&&(this.config[s]=r),typeof this.config[s]=="object"&&(this.config[s]=S(this.config[s]))});let t=a(this.config.start),n=a(this.config.end);if(!t||!n)return;let i=!1;p(t)&&p(n)&&(i=!0);let c=i?m():new Date;this.firstChild||(this.innerHTML=Object.keys(this.config.labels).reduce((s,r)=>this.config.unit&&this.config.unit!=r?s:`${s} <span class="unit ${r}"><span class="value"></span><span class="label">${this.config.labels[r]}</span></span>`,""));let f=c.getTime()-t.getTime(),o={};o.diff=n.getTime()-t.getTime(),!$(o,this)&&(y(o,this),this.config.timer&&(this.config.onInit&&this.config.onInit(this),this.interval=setInterval(()=>{if(t.getTime()>new Date().getTime()||$(o,this))return;y(o,this),this.config.onTick&&this.config.onTick(this,o);let s=i?m():new Date;o.diff=n.getTime()-s.getTime()+f},this.config.interval)))}destroyed(){this.interval&&clearInterval(this.interval)}},b=T;var L=customElements,_=(e,t)=>{L.get(e)||L.define(e,t)};_("count-down",b);var fe=b;})();
