"use strict";(()=>{var k=Object.defineProperty;var v=(t,n,e)=>n in t?k(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e;var r=(t,n,e)=>v(t,typeof n!="symbol"?n+"":n,e);var a=t=>typeof t=="string";var o=t=>t.split(".").reduce((n,e)=>n[e],window);var m=t=>{a(t)&&(t=t[0]=="{"?JSON.parse(t):o(t));for(let[n,e]of Object.entries(t))if(e&&typeof e=="object"){let i=e.__fn;a(i)?t[n]=o(i):m(e)}return t},h=m;var p=t=>t?(t[0]!="{"&&t.includes(":")&&(t=`{${t.replace(/([\w]*)\s*:\s*([\w"'\[\]]*)/,(n,e,i)=>`"${e}":${i.replace(/'/g,'"')}`)}}`),t[0]=="{"?JSON.parse(t):o(t)):{};var C=t=>{let n=t;do{if(n.nextSibling){t.parsedCallback();return}n=n.parentNode}while(n);setTimeout(()=>{t.parsedCallback()})},g=C;var f="__fe_id";window[f]=window[f]||0;var l=new Map,c=class extends HTMLElement{constructor(){super(),this.id=this.id||`fe-${window[f]++}`;let n=l.get(this.id);n?n!=this.innerHTML&&(this.innerHTML=n):l.set(this.id,this.innerHTML)}connectedCallback(){this._t&&clearTimeout(this._t),g(this)}disconnectedCallback(){this.disconnected(),this._t=setTimeout(()=>{this.destroyed(),this.config=null,document.getElementById(this.id)||l.delete(this.id)},1e3)}parsedCallback(){this.config||(this.config=h(p(this.dataset.config)),this.created()),this.connected()}created(){}destroyed(){}connected(){}disconnected(){}},y=c;function M(t=null){return t?t instanceof Date?t:new Date(F(t)):new Date}function F(t){let n="0000-01-01 00:00:00";for(;t.length<n.length;)t+=n[t.length];return t}function s(t){return t=M(t),new Date(t.getTime()-t.getTimezoneOffset()*6e4).toISOString().split(".")[0].replace("T"," ")}function w(t){return s(t).split(" ")[0]}function D(t){return s(t).split(" ")[1]}var _=document.documentElement.getAttribute("lang")||navigator.language,S=_;var x=(t,n)=>{for(let e of n)Object.defineProperty(t,e,{get(){return t.getAttribute(e)},set(i){t.setAttribute(e,i)}})};var u=class t extends y{constructor(){super();r(this,"value");r(this,"lang");r(this,"timeStyle");r(this,"dateStyle");r(this,"format");x(this,t.observedAttributes)}static get observedAttributes(){return["value","lang","timeStyle","dateStyle","format"]}attributeChangedCallback(e,i,E){this.formatter&&(e!="value"&&this.updateFormatter(),this.render())}getOptions(){let e=new Intl.DateTimeFormat,i=Object.assign(e.resolvedOptions(),this.config);return this.dateStyle&&(i.dateStyle=this.dateStyle),this.timeStyle&&(i.timeStyle=this.timeStyle),(i.dateStyle||i.timeStyle)&&(delete i.year,delete i.month,delete i.day),i}updateFormatter(){let e=this.lang||S;this.formatter=new Intl.DateTimeFormat(e,this.getOptions())}render(){let e=new Date(this.value);if(isNaN(e.getTime())){this.innerText="";return}let i;switch(this.format){case"iso":i=e.toISOString();break;case"utc":i=e.toUTCString();break;case"datetime":i=s(e);break;case"date":i=w(e);break;case"time":i=D(e);break;default:i=this.formatter.format(e);break}this.innerText=i}connected(){this.value||(this.value=new Date().toString()),this.updateFormatter(),this.render()}},d=u;var b=customElements,T=(t,n)=>{b.get(t)||b.define(t,n)};T("format-date",d);var nt=d;})();
