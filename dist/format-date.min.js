"use strict";(()=>{var o=t=>typeof t=="string";var a=t=>t.split(".").reduce((r,e)=>r[e],window);var c=t=>{o(t)&&(t=t[0]=="{"?JSON.parse(t):a(t));for(let[r,e]of Object.entries(t))if(e&&typeof e=="object"){let i=e.__fn;o(i)?t[r]=a(i):c(e)}return t},u=c;var d=t=>t?(t.includes(":")&&t[0]!="{"&&(t=`{${t.replace(/([\w]*)\s*:\s*([\w"'\[\]]*)/,(r,e,i)=>`"${e}":${i.replace(/'/g,'"')}`)}}`),JSON.parse(t)):{};var m=t=>{let r=t;do{if(r.nextSibling){t.parsedCallback();return}r=r.parentNode}while(r);setTimeout(()=>{m(t)})},p=m;var s=class extends HTMLElement{connectedCallback(){this._t&&clearTimeout(this._t),p(this)}disconnectedCallback(){this.disconnected(),this._t=setTimeout(()=>{this.destroyed(),this.config=null},1e3)}parsedCallback(){this.config||(this.config=u(d(this.dataset.config)),this.created()),this.connected()}created(){}destroyed(){}connected(){}disconnected(){}},h=s;function D(t){return t?t instanceof Date?t:new Date(t):new Date}function n(t){return t=D(t),new Date(t.getTime()-t.getTimezoneOffset()*6e4).toISOString().split(".")[0].replace("T"," ")}function g(t){return n(t).split(" ")[0]}function y(t){return n(t).split(" ")[1]}var k=document.documentElement.getAttribute("lang")||navigator.language,S=k;var b=(t,r)=>{for(let e of r)Object.defineProperty(t,e,{get(){return t.getAttribute(e)},set(i){t.setAttribute(e,i)}})};var l=class t extends h{value;lang;timeStyle;dateStyle;format;constructor(){super(),b(this,t.observedAttributes)}static get observedAttributes(){return["value","lang","timeStyle","dateStyle","format"]}attributeChangedCallback(r,e,i){this.formatter&&(r!="value"&&this.updateFormatter(),this.render())}getOptions(){let r=new Intl.DateTimeFormat,e=Object.assign(r.resolvedOptions(),this.config);return this.dateStyle&&(e.dateStyle=this.dateStyle),this.timeStyle&&(e.timeStyle=this.timeStyle),(e.dateStyle||e.timeStyle)&&(delete e.year,delete e.month,delete e.day),e}updateFormatter(){let r=this.lang||S;this.formatter=new Intl.DateTimeFormat(r,this.getOptions())}render(){let r=new Date(this.value);if(isNaN(r.getTime())){this.innerText="";return}let e;switch(this.format){case"iso":e=r.toISOString();break;case"utc":e=r.toUTCString();break;case"datetime":e=n(r);break;case"date":e=g(r);break;case"time":e=y(r);break;default:e=this.formatter.format(r);break}this.innerText=e}connected(){this.value||(this.value=new Date().toString()),this.updateFormatter(),this.render()}},f=l;var w=customElements,x=(t,r)=>{w.get(t)||w.define(t,r)};x("format-date",f);var K=f;})();
