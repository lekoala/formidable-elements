"use strict";(()=>{var s=t=>typeof t=="string";var r=t=>t.split(".").reduce((i,e)=>i[e],window);var u=t=>{s(t)&&(t=t[0]=="{"?JSON.parse(t):r(t));for(let[i,e]of Object.entries(t))if(e&&typeof e=="object"){let n=e.__fn;s(n)?t[i]=r(n):u(e)}return t},m=u;var h=t=>t?(t.includes(":")&&t[0]!="{"&&(t=`{${t.replace(/([\w]*)\s*:\s*([\w"'\[\]]*)/,(i,e,n)=>`"${e}":${n.replace(/'/g,'"')}`)}}`),t[0]=="{"?JSON.parse(t):r(t)):{};var k=t=>{let i=t;do{if(i.nextSibling){t.parsedCallback();return}i=i.parentNode}while(i);setTimeout(()=>{t.parsedCallback()})},p=k;var l="__id";window[l]=window[l]||0;var o=new Map,f=class extends HTMLElement{constructor(){super(),this.id=this.id||`ce-${window[l]++}`,o.has(this.id)?this.innerHTML=o.get(this.id):o.set(this.id,this.innerHTML)}connectedCallback(){this._t&&clearTimeout(this._t),p(this)}disconnectedCallback(){this.disconnected(),this._t=setTimeout(()=>{this.destroyed(),this.config=null,document.getElementById(this.id)||o.delete(this.id)},1e3)}parsedCallback(){this.config||(this.config=m(h(this.dataset.config)),this.created()),this.connected()}created(){}destroyed(){}connected(){}disconnected(){}},g=f;function T(t){return t?t instanceof Date?t:new Date(t):new Date}function a(t){return t=T(t),new Date(t.getTime()-t.getTimezoneOffset()*6e4).toISOString().split(".")[0].replace("T"," ")}function w(t){return a(t).split(" ")[0]}function y(t){return a(t).split(" ")[1]}var v=document.documentElement.getAttribute("lang")||navigator.language,S=v;var b=(t,i)=>{for(let e of i)Object.defineProperty(t,e,{get(){return t.getAttribute(e)},set(n){t.setAttribute(e,n)}})};var c=class t extends g{value;lang;timeStyle;dateStyle;format;constructor(){super(),b(this,t.observedAttributes)}static get observedAttributes(){return["value","lang","timeStyle","dateStyle","format"]}attributeChangedCallback(i,e,n){this.formatter&&(i!="value"&&this.updateFormatter(),this.render())}getOptions(){let i=new Intl.DateTimeFormat,e=Object.assign(i.resolvedOptions(),this.config);return this.dateStyle&&(e.dateStyle=this.dateStyle),this.timeStyle&&(e.timeStyle=this.timeStyle),(e.dateStyle||e.timeStyle)&&(delete e.year,delete e.month,delete e.day),e}updateFormatter(){let i=this.lang||S;this.formatter=new Intl.DateTimeFormat(i,this.getOptions())}render(){let i=new Date(this.value);if(isNaN(i.getTime())){this.innerText="";return}let e;switch(this.format){case"iso":e=i.toISOString();break;case"utc":e=i.toUTCString();break;case"datetime":e=a(i);break;case"date":e=w(i);break;case"time":e=y(i);break;default:e=this.formatter.format(i);break}this.innerText=e}connected(){this.value||(this.value=new Date().toString()),this.updateFormatter(),this.render()}},d=c;var D=customElements,x=(t,i)=>{D.get(t)||D.define(t,i)};x("format-date",d);var R=d;})();
