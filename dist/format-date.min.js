(()=>{var s=t=>typeof t=="string";var r=t=>t.split(".").reduce((e,n)=>e[n],window);var d=t=>{s(t)&&(t=t[0]==="{"?JSON.parse(t):r(t));for(let[e,n]of Object.entries(t))if(n&&typeof n=="object"){let i=n.__fn;s(i)?t[e]=r(i):d(n)}return t},m=d;var h=t=>t?(t[0]!=="{"&&t.includes(":")&&(t=`{${t.replace(/([^:\s{,]*)\s*:\s*('[^']*'|"[^"]*"|([\[].*?[\]])|[^,'"{\[]*)/g,(e,n,i)=>`"${n.replace(/['"]/g,"")}":${i.includes('"')?i:i.replace(/'/g,'"')}`)}}`),t[0]==="{"?JSON.parse(t):r(t)):{};var T=t=>{let e=t;do{if(e.nextSibling){t.parsedCallback();return}e=e.parentNode}while(e);setTimeout(()=>{t.parsedCallback()})},p=T;var l="__fe_id";window[l]=window[l]||0;var a=new Map,f=class extends HTMLElement{_restoreContent(){this.id=this.id||`fe-${window[l]++}`;let e=a.get(this.id);e?e!==this.innerHTML&&(this.innerHTML=e):a.set(this.id,this.innerHTML)}connectedCallback(){this._t&&clearTimeout(this._t),p(this)}disconnectedCallback(){this.disconnected(),this._t=setTimeout(()=>{this.destroyed(),this.config=null,document.getElementById(this.id)||a.delete(this.id)},1e3)}parsedCallback(){this.config||(this._restoreContent(),this.config=m(h(this.dataset.config)),this.created()),this.connected()}created(){}destroyed(){}connected(){}disconnected(){}},g=f;function k(t=null){return t?t instanceof Date?t:new Date(C(t)):new Date}function C(t){let e="0000-01-01 00:00:00";for(;t.length<e.length;)t+=e[t.length];return t}function o(t){return t=k(t),new Date(t.getTime()-t.getTimezoneOffset()*6e4).toISOString().split(".")[0].replace("T"," ")}function y(t){return o(t).split(" ")[0]}function w(t){return o(t).split(" ")[1]}var v=document.documentElement.getAttribute("lang")||navigator.language,D=v;var S=(t,e)=>{for(let n of e)Object.defineProperty(t,n,{get(){return t.getAttribute(n)},set(i){t.setAttribute(n,i)}})};var c=class t extends g{value;lang;timeStyle;dateStyle;format;constructor(){super(),S(this,t.observedAttributes)}static get observedAttributes(){return["value","lang","timeStyle","dateStyle","format"]}attributeChangedCallback(e,n,i){this.formatter&&(e!="value"&&this.updateFormatter(),this.render())}getOptions(){let e=new Intl.DateTimeFormat,n=Object.assign(e.resolvedOptions(),this.config);return this.dateStyle&&(n.dateStyle=this.dateStyle),this.timeStyle&&(n.timeStyle=this.timeStyle),(n.dateStyle||n.timeStyle)&&(delete n.year,delete n.month,delete n.day),n}updateFormatter(){let e=this.lang||D;this.formatter=new Intl.DateTimeFormat(e,this.getOptions())}render(){let e=new Date(this.value);if(isNaN(e.getTime())){this.innerText="";return}let n;switch(this.format){case"iso":n=e.toISOString();break;case"utc":n=e.toUTCString();break;case"datetime":n=o(e);break;case"date":n=y(e);break;case"time":n=w(e);break;default:n=this.formatter.format(e);break}this.innerText=n}connected(){this.value||(this.value=new Date().toString()),this.updateFormatter(),this.render()}},u=c;var x=customElements,b=(t,e)=>{x.get(t)||x.define(t,e)};b("format-date",u);var W=u;})();
