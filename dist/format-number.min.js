"use strict";(()=>{var s=t=>typeof t=="string";var o=t=>t.split(".").reduce((e,r)=>e[r],window);var f=t=>{s(t)&&(t=t[0]=="{"?JSON.parse(t):o(t));for(let[e,r]of Object.entries(t))if(r&&typeof r=="object"){let n=r.__fn;s(n)?t[e]=o(n):f(r)}return t},d=f;var u=t=>{let e=t;do{if(e.nextSibling){t.parsedCallback();return}e=e.parentNode}while(e);setTimeout(()=>{u(t)})},p=u;var a,c=class extends HTMLElement{connectedCallback(){a&&clearTimeout(a),p(this)}disconnectedCallback(){this.disconnected(),a=setTimeout(()=>{this.destroyed(),this.config=null},1e3)}parsedCallback(){this.config||(this.config=d(this.dataset.config||{}),this.created()),this.connected()}created(){}destroyed(){}connected(){}disconnected(){}},m=c;var b=document.documentElement.getAttribute("lang")||navigator.language,h=b;var g=(t,e)=>{for(let r of e)Object.defineProperty(t,r,{get(){return t.getAttribute(r)},set(n){t.setAttribute(r,n)}})};var i=class extends m{value;lang;currency;percent;constructor(){super(),g(this,i.observedAttributes)}static get observedAttributes(){return["value","lang","currency","percent"]}attributeChangedCallback(e,r,n){this.formatter&&(e!="value"&&this.updateFormatter(),this.render())}getOptions(){let e=new Intl.NumberFormat,r=Object.assign(e.resolvedOptions(),this.config);return this.percent&&(r.style="percent"),this.currency&&(r.currency=this.currency,r.style="currency"),r.unit&&(r.style="unit"),r}updateFormatter(){let e=this.lang||h;this.formatter=new Intl.NumberFormat(e,this.getOptions())}render(){let e=this.value;this.innerText=isNaN(e)?"":this.formatter.format(e)}connected(){this.innerText&&!this.hasAttribute("value")&&(this.value=this.innerText.trim()),this.updateFormatter(),this.render()}},l=i;var x=customElements,y=(t,e)=>{x.get(t)||x.define(t,e)};y("format-number",l);var M=l;})();
