"use strict";(()=>{var Nt=Object.create;var qe=Object.defineProperty;var Rt=Object.getOwnPropertyDescriptor;var jt=Object.getOwnPropertyNames;var $t=Object.getPrototypeOf,Vt=Object.prototype.hasOwnProperty;var Be=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var qt=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of jt(e))!Vt.call(r,o)&&o!==t&&qe(r,o,{get:()=>e[o],enumerable:!(n=Rt(e,o))||n.enumerable});return r};var Se=(r,e,t)=>(t=r!=null?Nt($t(r)):{},qt(e||!r||!r.__esModule?qe(t,"default",{value:r,enumerable:!0}):t,r));var Ue=Be((we,Ye)=>{(function(r,e){typeof we=="object"&&typeof Ye<"u"?e(we):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis<"u"?globalThis:r||self,e(r.sifter={}))})(we,function(r){"use strict";let e=l=>(l=l.filter(Boolean),l.length<2?l[0]||"":i(l)==1?"["+l.join("")+"]":"(?:"+l.join("|")+")"),t=l=>{if(!o(l))return l.join("");let a="",c=0,d=()=>{c>1&&(a+="{"+c+"}")};return l.forEach((w,h)=>{if(w===l[h-1]){c++;return}d(),a+=w,c=1}),d(),a},n=l=>{let a=p(l);return e(a)},o=l=>new Set(l).size!==l.length,s=l=>(l+"").replace(/([\$\(-\+\.\?\[-\^\{-\}])/g,"\\$1"),i=l=>l.reduce((a,c)=>Math.max(a,u(c)),0),u=l=>p(l).length,p=l=>Array.from(l);let f=l=>{if(l.length===1)return[[l]];let a=[],c=l.substring(1);return f(c).forEach(function(w){let h=w.slice(0);h[0]=l.charAt(0)+h[0],a.push(h),h=w.slice(0),h.unshift(l.charAt(0)),a.push(h)}),a};let S=[[0,65535]],x="[\u0300-\u036F\xB7\u02BE\u02BC]",_,Y,g=3,H={},q={"/":"\u2044\u2215",0:"\u07C0",a:"\u2C65\u0250\u0251",aa:"\uA733",ae:"\xE6\u01FD\u01E3",ao:"\uA735",au:"\uA737",av:"\uA739\uA73B",ay:"\uA73D",b:"\u0180\u0253\u0183",c:"\uA73F\u0188\u023C\u2184",d:"\u0111\u0257\u0256\u1D05\u018C\uABB7\u0501\u0266",e:"\u025B\u01DD\u1D07\u0247",f:"\uA77C\u0192",g:"\u01E5\u0260\uA7A1\u1D79\uA77F\u0262",h:"\u0127\u2C68\u2C76\u0265",i:"\u0268\u0131",j:"\u0249\u0237",k:"\u0199\u2C6A\uA741\uA743\uA745\uA7A3",l:"\u0142\u019A\u026B\u2C61\uA749\uA747\uA781\u026D",m:"\u0271\u026F\u03FB",n:"\uA7A5\u019E\u0272\uA791\u1D0E\u043B\u0509",o:"\xF8\u01FF\u0254\u0275\uA74B\uA74D\u1D11",oe:"\u0153",oi:"\u01A3",oo:"\uA74F",ou:"\u0223",p:"\u01A5\u1D7D\uA751\uA753\uA755\u03C1",q:"\uA757\uA759\u024B",r:"\u024D\u027D\uA75B\uA7A7\uA783",s:"\xDF\u023F\uA7A9\uA785\u0282",t:"\u0167\u01AD\u0288\u2C66\uA787",th:"\xFE",tz:"\uA729",u:"\u0289",v:"\u028B\uA75F\u028C",vy:"\uA761",w:"\u2C73",y:"\u01B4\u024F\u1EFF",z:"\u01B6\u0225\u0240\u2C6C\uA763",hv:"\u0195"};for(let l in q){let a=q[l]||"";for(let c=0;c<a.length;c++){let d=a.substring(c,c+1);H[d]=l}}let K=new RegExp(Object.keys(H).join("|")+"|"+x,"gu"),b=l=>{_===void 0&&(_=k(l||S))},P=(l,a="NFKD")=>l.normalize(a),W=l=>p(l).reduce((a,c)=>a+ne(c),""),ne=l=>(l=P(l).toLowerCase().replace(K,a=>H[a]||""),P(l,"NFC"));function*C(l){for(let[a,c]of l)for(let d=a;d<=c;d++){let w=String.fromCharCode(d),h=W(w);h!=w.toLowerCase()&&(h.length>g||h.length!=0&&(yield{folded:h,composed:w,code_point:d}))}}let M=l=>{let a={},c=(d,w)=>{let h=a[d]||new Set,O=new RegExp("^"+n(h)+"$","iu");w.match(O)||(h.add(s(w)),a[d]=h)};for(let d of C(l))c(d.folded,d.folded),c(d.folded,d.composed);return a},k=l=>{let a=M(l),c={},d=[];for(let h in a){let O=a[h];O&&(c[h]=n(O)),h.length>1&&d.push(s(h))}d.sort((h,O)=>O.length-h.length);let w=e(d);return Y=new RegExp("^"+w,"u"),c},U=(l,a=1)=>{let c=0;return l=l.map(d=>(_[d]&&(c+=d.length),_[d]||d)),c>=a?t(l):""},D=(l,a=1)=>(a=Math.max(a,l.length-1),e(f(l).map(c=>U(c,a)))),re=(l,a=!0)=>{let c=l.length>1?1:0;return e(l.map(d=>{let w=[],h=a?d.length():d.length()-1;for(let O=0;O<h;O++)w.push(D(d.substrs[O]||"",c));return t(w)}))},de=(l,a)=>{for(let c of a){if(c.start!=l.start||c.end!=l.end||c.substrs.join("")!==l.substrs.join(""))continue;let d=l.parts,w=O=>{for(let A of d){if(A.start===O.start&&A.substr===O.substr)return!1;if(!(O.length==1||A.length==1)&&(O.start<A.start&&O.end>A.start||A.start<O.start&&A.end>O.start))return!0}return!1};if(!(c.parts.filter(w).length>0))return!0}return!1};class pe{constructor(){this.parts=[],this.substrs=[],this.start=0,this.end=0}add(a){a&&(this.parts.push(a),this.substrs.push(a.substr),this.start=Math.min(a.start,this.start),this.end=Math.max(a.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(a,c){let d=new pe,w=JSON.parse(JSON.stringify(this.parts)),h=w.pop();for(let Q of w)d.add(Q);let O=c.substr.substring(0,a-h.start),A=O.length;return d.add({start:h.start,end:h.start+A,length:A,substr:O}),d}}let m=l=>{b(),l=W(l);let a="",c=[new pe];for(let d=0;d<l.length;d++){let h=l.substring(d).match(Y),O=l.substring(d,d+1),A=h?h[0]:null,Q=[],L=new Set;for(let I of c){let z=I.last();if(!z||z.length==1||z.end<=d)if(A){let Z=A.length;I.add({start:d,end:d+Z,length:Z,substr:A}),L.add("1")}else I.add({start:d,end:d+1,length:1,substr:O}),L.add("2");else if(A){let Z=I.clone(d,z),ae=A.length;Z.add({start:d,end:d+ae,length:ae,substr:A}),Q.push(Z)}else L.add("3")}if(Q.length>0){Q=Q.sort((I,z)=>I.length()-z.length());for(let I of Q)de(I,c)||c.push(I);continue}if(d>0&&L.size==1&&!L.has("3")){a+=re(c,!1);let I=new pe,z=c[0];z&&I.add(z.last()),c=[I]}}return a+=re(c,!0),a},y=(l,a)=>{if(l)return l[a]},T=(l,a)=>{if(l){for(var c,d=a.split(".");(c=d.shift())&&(l=l[c]););return l}},v=(l,a,c)=>{var d,w;return!l||(l=l+"",a.regex==null)||(w=l.search(a.regex),w===-1)?0:(d=a.string.length/l.length,w===0&&(d+=.5),d*c)},N=(l,a)=>{var c=l[a];if(typeof c=="function")return c;c&&!Array.isArray(c)&&(l[a]=[c])},E=(l,a)=>{if(Array.isArray(l))l.forEach(a);else for(var c in l)l.hasOwnProperty(c)&&a(l[c],c)},j=(l,a)=>typeof l=="number"&&typeof a=="number"?l>a?1:l<a?-1:0:(l=W(l+"").toLowerCase(),a=W(a+"").toLowerCase(),l>a?1:a>l?-1:0);class G{constructor(a,c){this.items=void 0,this.settings=void 0,this.items=a,this.settings=c||{diacritics:!0}}tokenize(a,c,d){if(!a||!a.length)return[];let w=[],h=a.split(/\s+/);var O;return d&&(O=new RegExp("^("+Object.keys(d).map(s).join("|")+"):(.*)$")),h.forEach(A=>{let Q,L=null,I=null;O&&(Q=A.match(O))&&(L=Q[1],A=Q[2]),A.length>0&&(this.settings.diacritics?I=m(A)||null:I=s(A),I&&c&&(I="\\b"+I)),w.push({string:A,regex:I?new RegExp(I,"iu"):null,field:L})}),w}getScoreFunction(a,c){var d=this.prepareSearch(a,c);return this._getScoreFunction(d)}_getScoreFunction(a){let c=a.tokens,d=c.length;if(!d)return function(){return 0};let w=a.options.fields,h=a.weights,O=w.length,A=a.getAttrFn;if(!O)return function(){return 1};let Q=function(){return O===1?function(L,I){let z=w[0].field;return v(A(I,z),L,h[z]||1)}:function(L,I){var z=0;if(L.field){let Z=A(I,L.field);!L.regex&&Z?z+=1/O:z+=v(Z,L,1)}else E(h,(Z,ae)=>{z+=v(A(I,ae),L,Z)});return z/O}}();return d===1?function(L){return Q(c[0],L)}:a.options.conjunction==="and"?function(L){var I,z=0;for(let Z of c){if(I=Q(Z,L),I<=0)return 0;z+=I}return z/d}:function(L){var I=0;return E(c,z=>{I+=Q(z,L)}),I/d}}getSortFunction(a,c){var d=this.prepareSearch(a,c);return this._getSortFunction(d)}_getSortFunction(a){var c,d=[];let w=this,h=a.options,O=!a.query&&h.sort_empty?h.sort_empty:h.sort;if(typeof O=="function")return O.bind(this);let A=function(I,z){return I==="$score"?z.score:a.getAttrFn(w.items[z.id],I)};if(O)for(let L of O)(a.query||L.field!=="$score")&&d.push(L);if(a.query){c=!0;for(let L of d)if(L.field==="$score"){c=!1;break}c&&d.unshift({field:"$score",direction:"desc"})}else d=d.filter(L=>L.field!=="$score");return d.length?function(L,I){var z,Z;for(let ae of d)if(Z=ae.field,z=(ae.direction==="desc"?-1:1)*j(A(Z,L),A(Z,I)),z)return z;return 0}:null}prepareSearch(a,c){let d={};var w=Object.assign({},c);if(N(w,"sort"),N(w,"sort_empty"),w.fields){N(w,"fields");let h=[];w.fields.forEach(O=>{typeof O=="string"&&(O={field:O,weight:1}),h.push(O),d[O.field]="weight"in O?O.weight:1}),w.fields=h}return{options:w,query:a.toLowerCase().trim(),tokens:this.tokenize(a,w.respect_word_boundaries,d),total:0,items:[],weights:d,getAttrFn:w.nesting?T:y}}search(a,c){var d=this,w,h;h=this.prepareSearch(a,c),c=h.options,a=h.query;let O=c.score||d._getScoreFunction(h);a.length?E(d.items,(Q,L)=>{w=O(Q),(c.filter===!1||w>0)&&h.items.push({score:w,id:L})}):E(d.items,(Q,L)=>{h.items.push({score:1,id:L})});let A=d._getSortFunction(h);return A&&h.items.sort(A),h.total=h.items.length,typeof c.limit=="number"&&(h.items=h.items.slice(0,c.limit)),h}}r.Sifter=G,r.cmp=j,r.getAttr=y,r.getAttrNesting=T,r.getPattern=m,r.iterate=E,r.propToArray=N,r.scoreValue=v,Object.defineProperty(r,"__esModule",{value:!0})})});var Ie=Be((_e,Ge)=>{(function(r,e){typeof _e=="object"&&typeof Ge<"u"?e(_e):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis<"u"?globalThis:r||self,e(r.diacritics={}))})(_e,function(r){"use strict";let e=m=>(m=m.filter(Boolean),m.length<2?m[0]||"":i(m)==1?"["+m.join("")+"]":"(?:"+m.join("|")+")"),t=m=>{if(!o(m))return m.join("");let y="",T=0,v=()=>{T>1&&(y+="{"+T+"}")};return m.forEach((N,E)=>{if(N===m[E-1]){T++;return}v(),y+=N,T=1}),v(),y},n=m=>{let y=p(m);return e(y)},o=m=>new Set(m).size!==m.length,s=m=>(m+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),i=m=>m.reduce((y,T)=>Math.max(y,u(T)),0),u=m=>p(m).length,p=m=>Array.from(m),f=m=>{if(m.length===1)return[[m]];let y=[],T=m.substring(1);return f(T).forEach(function(N){let E=N.slice(0);E[0]=m.charAt(0)+E[0],y.push(E),E=N.slice(0),E.unshift(m.charAt(0)),y.push(E)}),y},S=[[0,65535]],x="[\u0300-\u036F\xB7\u02BE\u02BC]";r.unicode_map=void 0;let _,Y=3,g={},H={"/":"\u2044\u2215",0:"\u07C0",a:"\u2C65\u0250\u0251",aa:"\uA733",ae:"\xE6\u01FD\u01E3",ao:"\uA735",au:"\uA737",av:"\uA739\uA73B",ay:"\uA73D",b:"\u0180\u0253\u0183",c:"\uA73F\u0188\u023C\u2184",d:"\u0111\u0257\u0256\u1D05\u018C\uABB7\u0501\u0266",e:"\u025B\u01DD\u1D07\u0247",f:"\uA77C\u0192",g:"\u01E5\u0260\uA7A1\u1D79\uA77F\u0262",h:"\u0127\u2C68\u2C76\u0265",i:"\u0268\u0131",j:"\u0249\u0237",k:"\u0199\u2C6A\uA741\uA743\uA745\uA7A3",l:"\u0142\u019A\u026B\u2C61\uA749\uA747\uA781\u026D",m:"\u0271\u026F\u03FB",n:"\uA7A5\u019E\u0272\uA791\u1D0E\u043B\u0509",o:"\xF8\u01FF\u0254\u0275\uA74B\uA74D\u1D11",oe:"\u0153",oi:"\u01A3",oo:"\uA74F",ou:"\u0223",p:"\u01A5\u1D7D\uA751\uA753\uA755\u03C1",q:"\uA757\uA759\u024B",r:"\u024D\u027D\uA75B\uA7A7\uA783",s:"\xDF\u023F\uA7A9\uA785\u0282",t:"\u0167\u01AD\u0288\u2C66\uA787",th:"\xFE",tz:"\uA729",u:"\u0289",v:"\u028B\uA75F\u028C",vy:"\uA761",w:"\u2C73",y:"\u01B4\u024F\u1EFF",z:"\u01B6\u0225\u0240\u2C6C\uA763",hv:"\u0195"};for(let m in H){let y=H[m]||"";for(let T=0;T<y.length;T++){let v=y.substring(T,T+1);g[v]=m}}let q=new RegExp(Object.keys(g).join("|")+"|"+x,"gu"),K=m=>{r.unicode_map===void 0&&(r.unicode_map=M(m||S))},b=(m,y="NFKD")=>m.normalize(y),P=m=>p(m).reduce((y,T)=>y+W(T),""),W=m=>(m=b(m).toLowerCase().replace(q,y=>g[y]||""),b(m,"NFC"));function*ne(m){for(let[y,T]of m)for(let v=y;v<=T;v++){let N=String.fromCharCode(v),E=P(N);E!=N.toLowerCase()&&(E.length>Y||E.length!=0&&(yield{folded:E,composed:N,code_point:v}))}}let C=m=>{let y={},T=(v,N)=>{let E=y[v]||new Set,j=new RegExp("^"+n(E)+"$","iu");N.match(j)||(E.add(s(N)),y[v]=E)};for(let v of ne(m))T(v.folded,v.folded),T(v.folded,v.composed);return y},M=m=>{let y=C(m),T={},v=[];for(let E in y){let j=y[E];j&&(T[E]=n(j)),E.length>1&&v.push(s(E))}v.sort((E,j)=>j.length-E.length);let N=e(v);return _=new RegExp("^"+N,"u"),T},k=(m,y=1)=>{let T=0;return m=m.map(v=>(r.unicode_map[v]&&(T+=v.length),r.unicode_map[v]||v)),T>=y?t(m):""},U=(m,y=1)=>(y=Math.max(y,m.length-1),e(f(m).map(T=>k(T,y)))),D=(m,y=!0)=>{let T=m.length>1?1:0;return e(m.map(v=>{let N=[],E=y?v.length():v.length()-1;for(let j=0;j<E;j++)N.push(U(v.substrs[j]||"",T));return t(N)}))},re=(m,y)=>{for(let T of y){if(T.start!=m.start||T.end!=m.end||T.substrs.join("")!==m.substrs.join(""))continue;let v=m.parts,N=j=>{for(let G of v){if(G.start===j.start&&G.substr===j.substr)return!1;if(!(j.length==1||G.length==1)&&(j.start<G.start&&j.end>G.start||G.start<j.start&&G.end>j.start))return!0}return!1};if(!(T.parts.filter(N).length>0))return!0}return!1};class de{constructor(){this.parts=[],this.substrs=[],this.start=0,this.end=0}add(y){y&&(this.parts.push(y),this.substrs.push(y.substr),this.start=Math.min(y.start,this.start),this.end=Math.max(y.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(y,T){let v=new de,N=JSON.parse(JSON.stringify(this.parts)),E=N.pop();for(let l of N)v.add(l);let j=T.substr.substring(0,y-E.start),G=j.length;return v.add({start:E.start,end:E.start+G,length:G,substr:j}),v}}let pe=m=>{K(),m=P(m);let y="",T=[new de];for(let v=0;v<m.length;v++){let E=m.substring(v).match(_),j=m.substring(v,v+1),G=E?E[0]:null,l=[],a=new Set;for(let c of T){let d=c.last();if(!d||d.length==1||d.end<=v)if(G){let w=G.length;c.add({start:v,end:v+w,length:w,substr:G}),a.add("1")}else c.add({start:v,end:v+1,length:1,substr:j}),a.add("2");else if(G){let w=c.clone(v,d),h=G.length;w.add({start:v,end:v+h,length:h,substr:G}),l.push(w)}else a.add("3")}if(l.length>0){l=l.sort((c,d)=>c.length()-d.length());for(let c of l)re(c,T)||T.push(c);continue}if(v>0&&a.size==1&&!a.has("3")){y+=D(T,!1);let c=new de,d=T[0];d&&c.add(d.last()),T=[c]}}return y+=D(T,!0),y};r._asciifold=W,r.asciifold=P,r.code_points=S,r.escape_regex=s,r.generateMap=M,r.generateSets=C,r.generator=ne,r.getPattern=pe,r.initialize=K,r.mapSequence=k,r.normalize=b,r.substringsToPattern=U,Object.defineProperty(r,"__esModule",{value:!0})})});function ke(r,e){r.split(/\s+/).forEach(t=>{e(t)})}var me=class{_events;constructor(){this._events={}}on(e,t){ke(e,n=>{let o=this._events[n]||[];o.push(t),this._events[n]=o})}off(e,t){var n=arguments.length;if(n===0){this._events={};return}ke(e,o=>{if(n===1){delete this._events[o];return}let s=this._events[o];s!==void 0&&(s.splice(s.indexOf(t),1),this._events[o]=s)})}trigger(e,...t){var n=this;ke(e,o=>{let s=n._events[o];s!==void 0&&s.forEach(i=>{i.apply(n,t)})})}};function Ce(r){return r.plugins={},class extends r{plugins={names:[],settings:{},requested:{},loaded:{}};static define(e,t){r.plugins[e]={name:e,fn:t}}initializePlugins(e){var t,n;let o=this,s=[];if(Array.isArray(e))e.forEach(i=>{typeof i=="string"?s.push(i):(o.plugins.settings[i.name]=i.options,s.push(i.name))});else if(e)for(t in e)e.hasOwnProperty(t)&&(o.plugins.settings[t]=e[t],s.push(t));for(;n=s.shift();)o.require(n)}loadPlugin(e){var t=this,n=t.plugins,o=r.plugins[e];if(!r.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');n.requested[e]=!0,n.loaded[e]=o.fn.apply(t,[t.plugins.settings[e]||{}]),n.names.push(e)}require(e){var t=this,n=t.plugins;if(!t.plugins.loaded.hasOwnProperty(e)){if(n.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');t.loadPlugin(e)}return n.loaded[e]}}}var te=Se(Ue()),it=Se(Ie());var Bt=Se(Ie());var ie=(r,e)=>{if(Array.isArray(r))r.forEach(e);else for(var t in r)r.hasOwnProperty(t)&&e(r[t],t)};var B=r=>{if(r.jquery)return r[0];if(r instanceof HTMLElement)return r;if(Le(r)){var e=document.createElement("template");return e.innerHTML=r.trim(),e.content.firstChild}return document.querySelector(r)},Le=r=>typeof r=="string"&&r.indexOf("<")>-1,Qe=r=>r.replace(/['"\\]/g,"\\$&"),ye=(r,e)=>{var t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!1),r.dispatchEvent(t)},ge=(r,e)=>{Object.assign(r.style,e)},X=(r,...e)=>{var t=Je(e);r=We(r),r.map(n=>{t.map(o=>{n.classList.add(o)})})},oe=(r,...e)=>{var t=Je(e);r=We(r),r.map(n=>{t.map(o=>{n.classList.remove(o)})})},Je=r=>{var e=[];return ie(r,t=>{typeof t=="string"&&(t=t.trim().split(/[\11\12\14\15\40]/)),Array.isArray(t)&&(e=e.concat(t))}),e.filter(Boolean)},We=r=>(Array.isArray(r)||(r=[r]),r),ue=(r,e,t)=>{if(!(t&&!t.contains(r)))for(;r&&r.matches;){if(r.matches(e))return r;r=r.parentNode}},Ae=(r,e=0)=>e>0?r[r.length-1]:r[0],Xe=r=>Object.keys(r).length===0,ce=(r,e)=>{if(!r)return-1;e=e||r.nodeName;for(var t=0;r=r.previousElementSibling;)r.matches(e)&&t++;return t},V=(r,e)=>{ie(e,(t,n)=>{t==null?r.removeAttribute(n):r.setAttribute(n,""+t)})},he=(r,e)=>{r.parentNode&&r.parentNode.replaceChild(e,r)};var Ze=(r,e)=>{if(e===null)return;if(typeof e=="string"){if(!e.length)return;e=new RegExp(e,"i")}let t=s=>{var i=s.data.match(e);if(i&&s.data.length>0){var u=document.createElement("span");u.className="highlight";var p=s.splitText(i.index);p.splitText(i[0].length);var f=p.cloneNode(!0);return u.appendChild(f),he(p,u),1}return 0},n=s=>{s.nodeType===1&&s.childNodes&&!/(script|style)/i.test(s.tagName)&&(s.className!=="highlight"||s.tagName!=="SPAN")&&Array.from(s.childNodes).forEach(i=>{o(i)})},o=s=>s.nodeType===3?t(s):(n(s),0);o(r)},et=r=>{var e=r.querySelectorAll("span.highlight");Array.prototype.forEach.call(e,function(t){var n=t.parentNode;n.replaceChild(t.firstChild,t),n.normalize()})};var Yt=typeof navigator>"u"?!1:/Mac/.test(navigator.userAgent),ve=Yt?"metaKey":"ctrlKey";var Fe={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:function(r){return r.length>0},render:{}};var ee=r=>typeof r>"u"||r===null?null:be(r),be=r=>typeof r=="boolean"?r?"1":"0":r+"",fe=r=>(r+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),tt=(r,e)=>{var t;return function(n,o){var s=this;t&&(s.loading=Math.max(s.loading-1,0),clearTimeout(t)),t=setTimeout(function(){t=null,s.loadedSearches[n]=!0,r.call(s,n,o)},e)}},He=(r,e,t)=>{var n,o=r.trigger,s={};r.trigger=function(){var i=arguments[0];if(e.indexOf(i)!==-1)s[i]=arguments;else return o.apply(r,arguments)},t.apply(r,[]),r.trigger=o;for(n of e)n in s&&o.apply(r,s[n])},rt=r=>({start:r.selectionStart||0,length:(r.selectionEnd||0)-(r.selectionStart||0)}),F=(r,e=!1)=>{r&&(r.preventDefault(),e&&r.stopPropagation())},R=(r,e,t,n)=>{r.addEventListener(e,t,n)},se=(r,e)=>{if(!e||!e[r])return!1;var t=(e.altKey?1:0)+(e.ctrlKey?1:0)+(e.shiftKey?1:0)+(e.metaKey?1:0);return t===1},xe=(r,e)=>{let t=r.getAttribute("id");return t||(r.setAttribute("id",e),e)},Pe=r=>r.replace(/[\\"']/g,"\\$&"),le=(r,e)=>{e&&r.append(e)};function Te(r,e){var t=Object.assign({},Fe,e),n=t.dataAttr,o=t.labelField,s=t.valueField,i=t.disabledField,u=t.optgroupField,p=t.optgroupLabelField,f=t.optgroupValueField,S=r.tagName.toLowerCase(),x=r.getAttribute("placeholder")||r.getAttribute("data-placeholder");if(!x&&!t.allowEmptyOption){let H=r.querySelector('option[value=""]');H&&(x=H.textContent)}var _={placeholder:x,options:[],optgroups:[],items:[],maxItems:null},Y=()=>{var H,q=_.options,K={},b=1,P=C=>{var M=Object.assign({},C.dataset),k=n&&M[n];return typeof k=="string"&&k.length&&(M=Object.assign(M,JSON.parse(k))),M},W=(C,M)=>{var k=ee(C.value);if(k!=null&&!(!k&&!t.allowEmptyOption)){if(K.hasOwnProperty(k)){if(M){var U=K[k][u];U?Array.isArray(U)?U.push(M):K[k][u]=[U,M]:K[k][u]=M}}else{var D=P(C);D[o]=D[o]||C.textContent,D[s]=D[s]||k,D[i]=D[i]||C.disabled,D[u]=D[u]||M,D.$option=C,K[k]=D,q.push(D)}C.selected&&_.items.push(k)}},ne=C=>{var M,k;k=P(C),k[p]=k[p]||C.getAttribute("label")||"",k[f]=k[f]||b++,k[i]=k[i]||C.disabled,_.optgroups.push(k),M=k[f],ie(C.children,U=>{W(U,M)})};_.maxItems=r.hasAttribute("multiple")?null:1,ie(r.children,C=>{H=C.tagName.toLowerCase(),H==="optgroup"?ne(C):H==="option"&&W(C)})},g=()=>{let H=r.getAttribute(n);if(H)_.options=JSON.parse(H),ie(_.options,K=>{_.items.push(K[s])});else{var q=r.value.trim()||"";if(!t.allowEmptyOption&&!q.length)return;let K=q.split(t.delimiter);ie(K,b=>{let P={};P[o]=b,P[s]=b,_.options.push(P)}),_.items=K}};return S==="select"?Y():g(),Object.assign({},Fe,_,e)}var ot=0,J=class extends Ce(me){control_input;wrapper;dropdown;control;dropdown_content;focus_node;order=0;settings;input;tabIndex;is_select_tag;rtl;inputId;_destroy;sifter;isOpen=!1;isDisabled=!1;isRequired;isInvalid=!1;isValid=!0;isLocked=!1;isFocused=!1;isInputHidden=!1;isSetup=!1;ignoreFocus=!1;ignoreHover=!1;hasOptions=!1;currentResults;lastValue="";caretPos=0;loading=0;loadedSearches={};activeOption=null;activeItems=[];optgroups={};options={};userOptions={};items=[];constructor(e,t){super(),ot++;var n,o=B(e);if(o.tomselect)throw new Error("Tom Select already initialized on this element");o.tomselect=this;var s=window.getComputedStyle&&window.getComputedStyle(o,null);n=s.getPropertyValue("direction");let i=Te(o,t);this.settings=i,this.input=o,this.tabIndex=o.tabIndex||0,this.is_select_tag=o.tagName.toLowerCase()==="select",this.rtl=/rtl/i.test(n),this.inputId=xe(o,"tomselect-"+ot),this.isRequired=o.required,this.sifter=new te.Sifter(this.options,{diacritics:i.diacritics}),i.mode=i.mode||(i.maxItems===1?"single":"multi"),typeof i.hideSelected!="boolean"&&(i.hideSelected=i.mode==="multi"),typeof i.hidePlaceholder!="boolean"&&(i.hidePlaceholder=i.mode!=="multi");var u=i.createFilter;typeof u!="function"&&(typeof u=="string"&&(u=new RegExp(u)),u instanceof RegExp?i.createFilter=q=>u.test(q):i.createFilter=q=>this.settings.duplicates||!this.options[q]),this.initializePlugins(i.plugins),this.setupCallbacks(),this.setupTemplates();let p=B("<div>"),f=B("<div>"),S=this._render("dropdown"),x=B('<div role="listbox" tabindex="-1">'),_=this.input.getAttribute("class")||"",Y=i.mode;var g;if(X(p,i.wrapperClass,_,Y),X(f,i.controlClass),le(p,f),X(S,i.dropdownClass,Y),i.copyClassesToDropdown&&X(S,_),X(x,i.dropdownContentClass),le(S,x),B(i.dropdownParent||p).appendChild(S),Le(i.controlInput)){g=B(i.controlInput);var H=["autocorrect","autocapitalize","autocomplete"];(0,te.iterate)(H,q=>{o.getAttribute(q)&&V(g,{[q]:o.getAttribute(q)})}),g.tabIndex=-1,f.appendChild(g),this.focus_node=g}else i.controlInput?(g=B(i.controlInput),this.focus_node=g):(g=B("<input/>"),this.focus_node=f);this.wrapper=p,this.dropdown=S,this.dropdown_content=x,this.control=f,this.control_input=g,this.setup()}setup(){let e=this,t=e.settings,n=e.control_input,o=e.dropdown,s=e.dropdown_content,i=e.wrapper,u=e.control,p=e.input,f=e.focus_node,S={passive:!0},x=e.inputId+"-ts-dropdown";V(s,{id:x}),V(f,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":x});let _=xe(f,e.inputId+"-ts-control"),Y="label[for='"+Qe(e.inputId)+"']",g=document.querySelector(Y),H=e.focus.bind(e);if(g){R(g,"click",H),V(g,{for:_});let b=xe(g,e.inputId+"-ts-label");V(f,{"aria-labelledby":b}),V(s,{"aria-labelledby":b})}if(i.style.width=p.style.width,e.plugins.names.length){let b="plugin-"+e.plugins.names.join(" plugin-");X([i,o],b)}(t.maxItems===null||t.maxItems>1)&&e.is_select_tag&&V(p,{multiple:"multiple"}),t.placeholder&&V(n,{placeholder:t.placeholder}),!t.splitOn&&t.delimiter&&(t.splitOn=new RegExp("\\s*"+(0,it.escape_regex)(t.delimiter)+"+\\s*")),t.load&&t.loadThrottle&&(t.load=tt(t.load,t.loadThrottle)),e.control_input.type=p.type,R(o,"mousemove",()=>{e.ignoreHover=!1}),R(o,"mouseenter",b=>{var P=ue(b.target,"[data-selectable]",o);P&&e.onOptionHover(b,P)},{capture:!0}),R(o,"click",b=>{let P=ue(b.target,"[data-selectable]");P&&(e.onOptionSelect(b,P),F(b,!0))}),R(u,"click",b=>{var P=ue(b.target,"[data-ts-item]",u);if(P&&e.onItemSelect(b,P)){F(b,!0);return}n.value==""&&(e.onClick(),F(b,!0))}),R(f,"keydown",b=>e.onKeyDown(b)),R(n,"keypress",b=>e.onKeyPress(b)),R(n,"input",b=>e.onInput(b)),R(f,"blur",b=>e.onBlur(b)),R(f,"focus",b=>e.onFocus(b)),R(n,"paste",b=>e.onPaste(b));let q=b=>{let P=b.composedPath()[0];if(!i.contains(P)&&!o.contains(P)){e.isFocused&&e.blur(),e.inputState();return}P==n&&e.isOpen?b.stopPropagation():F(b,!0)},K=()=>{e.isOpen&&e.positionDropdown()};R(document,"mousedown",q),R(window,"scroll",K,S),R(window,"resize",K,S),this._destroy=()=>{document.removeEventListener("mousedown",q),window.removeEventListener("scroll",K),window.removeEventListener("resize",K),g&&g.removeEventListener("click",H)},this.revertSettings={innerHTML:p.innerHTML,tabIndex:p.tabIndex},p.tabIndex=-1,p.insertAdjacentElement("afterend",e.wrapper),e.sync(!1),t.items=[],delete t.optgroups,delete t.options,R(p,"invalid",()=>{e.isValid&&(e.isValid=!1,e.isInvalid=!0,e.refreshState())}),e.updateOriginalInput(),e.refreshItems(),e.close(!1),e.inputState(),e.isSetup=!0,p.disabled?e.disable():e.enable(),e.on("change",this.onChange),X(p,"tomselected","ts-hidden-accessible"),e.trigger("initialize"),t.preload===!0&&e.preload()}setupOptions(e=[],t=[]){this.addOptions(e),(0,te.iterate)(t,n=>{this.registerOptionGroup(n)})}setupTemplates(){var e=this,t=e.settings.labelField,n=e.settings.optgroupLabelField,o={optgroup:s=>{let i=document.createElement("div");return i.className="optgroup",i.appendChild(s.options),i},optgroup_header:(s,i)=>'<div class="optgroup-header">'+i(s[n])+"</div>",option:(s,i)=>"<div>"+i(s[t])+"</div>",item:(s,i)=>"<div>"+i(s[t])+"</div>",option_create:(s,i)=>'<div class="create">Add <strong>'+i(s.input)+"</strong>&hellip;</div>",no_results:()=>'<div class="no-results">No results found</div>',loading:()=>'<div class="spinner"></div>',not_loading:()=>{},dropdown:()=>"<div></div>"};e.settings.render=Object.assign({},o,e.settings.render)}setupCallbacks(){var e,t,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in n)t=this.settings[n[e]],t&&this.on(e,t)}sync(e=!0){let t=this,n=e?Te(t.input,{delimiter:t.settings.delimiter}):t.settings;t.setupOptions(n.options,n.optgroups),t.setValue(n.items||[],!0),t.lastQuery=null}onClick(){var e=this;if(e.activeItems.length>0){e.clearActiveItems(),e.focus();return}e.isFocused&&e.isOpen?e.blur():e.focus()}onMouseDown(){}onChange(){ye(this.input,"input"),ye(this.input,"change")}onPaste(e){var t=this;if(t.isInputHidden||t.isLocked){F(e);return}t.settings.splitOn&&setTimeout(()=>{var n=t.inputValue();if(n.match(t.settings.splitOn)){var o=n.trim().split(t.settings.splitOn);(0,te.iterate)(o,s=>{ee(s)&&(this.options[s]?t.addItem(s):t.createItem(s))})}},0)}onKeyPress(e){var t=this;if(t.isLocked){F(e);return}var n=String.fromCharCode(e.keyCode||e.which);if(t.settings.create&&t.settings.mode==="multi"&&n===t.settings.delimiter){t.createItem(),F(e);return}}onKeyDown(e){var t=this;if(t.ignoreHover=!0,t.isLocked){e.keyCode!==9&&F(e);return}switch(e.keyCode){case 65:if(se(ve,e)&&t.control_input.value==""){F(e),t.selectAll();return}break;case 27:t.isOpen&&(F(e,!0),t.close()),t.clearActiveItems();return;case 40:if(!t.isOpen&&t.hasOptions)t.open();else if(t.activeOption){let n=t.getAdjacent(t.activeOption,1);n&&t.setActiveOption(n)}F(e);return;case 38:if(t.activeOption){let n=t.getAdjacent(t.activeOption,-1);n&&t.setActiveOption(n)}F(e);return;case 13:t.canSelect(t.activeOption)?(t.onOptionSelect(e,t.activeOption),F(e)):t.settings.create&&t.createItem()?F(e):document.activeElement==t.control_input&&t.isOpen&&F(e);return;case 37:t.advanceSelection(-1,e);return;case 39:t.advanceSelection(1,e);return;case 9:t.settings.selectOnTab&&(t.canSelect(t.activeOption)&&(t.onOptionSelect(e,t.activeOption),F(e)),t.settings.create&&t.createItem()&&F(e));return;case 8:case 46:t.deleteSelection(e);return}t.isInputHidden&&!se(ve,e)&&F(e)}onInput(e){var t=this;if(!t.isLocked){var n=t.inputValue();t.lastValue!==n&&(t.lastValue=n,t.settings.shouldLoad.call(t,n)&&t.load(n),t.refreshOptions(),t.trigger("type",n))}}onOptionHover(e,t){this.ignoreHover||this.setActiveOption(t,!1)}onFocus(e){var t=this,n=t.isFocused;if(t.isDisabled){t.blur(),F(e);return}t.ignoreFocus||(t.isFocused=!0,t.settings.preload==="focus"&&t.preload(),n||t.trigger("focus"),t.activeItems.length||(t.showInput(),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState())}onBlur(e){if(document.hasFocus()!==!1){var t=this;if(t.isFocused){t.isFocused=!1,t.ignoreFocus=!1;var n=()=>{t.close(),t.setActiveItem(),t.setCaret(t.items.length),t.trigger("blur")};t.settings.create&&t.settings.createOnBlur?t.createItem(null,n):n()}}}onOptionSelect(e,t){var n,o=this;t.parentElement&&t.parentElement.matches("[data-disabled]")||(t.classList.contains("create")?o.createItem(null,()=>{o.settings.closeAfterSelect&&o.close()}):(n=t.dataset.value,typeof n<"u"&&(o.lastQuery=null,o.addItem(n),o.settings.closeAfterSelect&&o.close(),!o.settings.hideSelected&&e.type&&/click/.test(e.type)&&o.setActiveOption(t))))}canSelect(e){return!!(this.isOpen&&e&&this.dropdown_content.contains(e))}onItemSelect(e,t){var n=this;return!n.isLocked&&n.settings.mode==="multi"?(F(e),n.setActiveItem(t,e),!0):!1}canLoad(e){return!(!this.settings.load||this.loadedSearches.hasOwnProperty(e))}load(e){let t=this;if(!t.canLoad(e))return;X(t.wrapper,t.settings.loadingClass),t.loading++;let n=t.loadCallback.bind(t);t.settings.load.call(t,e,n)}loadCallback(e,t){let n=this;n.loading=Math.max(n.loading-1,0),n.lastQuery=null,n.clearActiveOption(),n.setupOptions(e,t),n.refreshOptions(n.isFocused&&!n.isInputHidden),n.loading||oe(n.wrapper,n.settings.loadingClass),n.trigger("load",e,t)}preload(){var e=this.wrapper.classList;e.contains("preloaded")||(e.add("preloaded"),this.load(""))}setTextboxValue(e=""){var t=this.control_input,n=t.value!==e;n&&(t.value=e,ye(t,"update"),this.lastValue=e)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(e,t){var n=t?[]:["change"];He(this,n,()=>{this.clear(t),this.addItems(e,t)})}setMaxItems(e){e===0&&(e=null),this.settings.maxItems=e,this.refreshState()}setActiveItem(e,t){var n=this,o,s,i,u,p,f;if(n.settings.mode!=="single"){if(!e){n.clearActiveItems(),n.isFocused&&n.showInput();return}if(o=t&&t.type.toLowerCase(),o==="click"&&se("shiftKey",t)&&n.activeItems.length){for(f=n.getLastActive(),i=Array.prototype.indexOf.call(n.control.children,f),u=Array.prototype.indexOf.call(n.control.children,e),i>u&&(p=i,i=u,u=p),s=i;s<=u;s++)e=n.control.children[s],n.activeItems.indexOf(e)===-1&&n.setActiveItemClass(e);F(t)}else o==="click"&&se(ve,t)||o==="keydown"&&se("shiftKey",t)?e.classList.contains("active")?n.removeActiveItem(e):n.setActiveItemClass(e):(n.clearActiveItems(),n.setActiveItemClass(e));n.hideInput(),n.isFocused||n.focus()}}setActiveItemClass(e){let t=this,n=t.control.querySelector(".last-active");n&&oe(n,"last-active"),X(e,"active last-active"),t.trigger("item_select",e),t.activeItems.indexOf(e)==-1&&t.activeItems.push(e)}removeActiveItem(e){var t=this.activeItems.indexOf(e);this.activeItems.splice(t,1),oe(e,"active")}clearActiveItems(){oe(this.activeItems,"active"),this.activeItems=[]}setActiveOption(e,t=!0){e!==this.activeOption&&(this.clearActiveOption(),e&&(this.activeOption=e,V(this.focus_node,{"aria-activedescendant":e.getAttribute("id")}),V(e,{"aria-selected":"true"}),X(e,"active"),t&&this.scrollToOption(e)))}scrollToOption(e,t){if(!e)return;let n=this.dropdown_content,o=n.clientHeight,s=n.scrollTop||0,i=e.offsetHeight,u=e.getBoundingClientRect().top-n.getBoundingClientRect().top+s;u+i>o+s?this.scroll(u-o+i,t):u<s&&this.scroll(u,t)}scroll(e,t){let n=this.dropdown_content;t&&(n.style.scrollBehavior=t),n.scrollTop=e,n.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&(oe(this.activeOption,"active"),V(this.activeOption,{"aria-selected":null})),this.activeOption=null,V(this.focus_node,{"aria-activedescendant":null})}selectAll(){let e=this;if(e.settings.mode==="single")return;let t=e.controlChildren();t.length&&(e.hideInput(),e.close(),e.activeItems=t,(0,te.iterate)(t,n=>{e.setActiveItemClass(n)}))}inputState(){var e=this;e.control.contains(e.control_input)&&(V(e.control_input,{placeholder:e.settings.placeholder}),e.activeItems.length>0||!e.isFocused&&e.settings.hidePlaceholder&&e.items.length>0?(e.setTextboxValue(),e.isInputHidden=!0):(e.settings.hidePlaceholder&&e.items.length>0&&V(e.control_input,{placeholder:""}),e.isInputHidden=!1),e.wrapper.classList.toggle("input-hidden",e.isInputHidden))}hideInput(){this.inputState()}showInput(){this.inputState()}inputValue(){return this.control_input.value.trim()}focus(){var e=this;e.isDisabled||(e.ignoreFocus=!0,e.control_input.offsetWidth?e.control_input.focus():e.focus_node.focus(),setTimeout(()=>{e.ignoreFocus=!1,e.onFocus()},0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())}getSearchOptions(){var e=this.settings,t=e.sortField;return typeof e.sortField=="string"&&(t=[{field:e.sortField}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t,nesting:e.nesting}}search(e){var t,n,o=this,s=this.getSearchOptions();if(o.settings.score&&(n=o.settings.score.call(o,e),typeof n!="function"))throw new Error('Tom Select "score" setting must be a function that returns a function');return e!==o.lastQuery?(o.lastQuery=e,t=o.sifter.search(e,Object.assign(s,{score:n})),o.currentResults=t):t=Object.assign({},o.currentResults),o.settings.hideSelected&&(t.items=t.items.filter(i=>{let u=ee(i.id);return!(u&&o.items.indexOf(u)!==-1)})),t}refreshOptions(e=!0){var t,n,o,s,i,u,p,f,S,x;let _={},Y=[];var g=this,H=g.inputValue();let q=H===g.lastQuery||H==""&&g.lastQuery==null;var K=g.search(H),b=null,P=g.settings.shouldOpen||!1,W=g.dropdown_content;for(q&&(b=g.activeOption,b&&(S=b.closest("[data-group]"))),s=K.items.length,typeof g.settings.maxOptions=="number"&&(s=Math.min(s,g.settings.maxOptions)),s>0&&(P=!0),t=0;t<s;t++){let C=K.items[t];if(!C)continue;let M=C.id,k=g.options[M];if(k===void 0)continue;let U=be(M),D=g.getOption(U,!0);for(g.settings.hideSelected||D.classList.toggle("selected",g.items.includes(U)),i=k[g.settings.optgroupField]||"",u=Array.isArray(i)?i:[i],n=0,o=u&&u.length;n<o;n++){i=u[n],g.optgroups.hasOwnProperty(i)||(i="");let re=_[i];re===void 0&&(re=document.createDocumentFragment(),Y.push(i)),n>0&&(D=D.cloneNode(!0),V(D,{id:k.$id+"-clone-"+n,"aria-selected":null}),D.classList.add("ts-cloned"),oe(D,"active"),g.activeOption&&g.activeOption.dataset.value==M&&S&&S.dataset.group===i.toString()&&(b=D)),re.appendChild(D),_[i]=re}}g.settings.lockOptgroupOrder&&Y.sort((C,M)=>{let k=g.optgroups[C],U=g.optgroups[M],D=k&&k.$order||0,re=U&&U.$order||0;return D-re}),p=document.createDocumentFragment(),(0,te.iterate)(Y,C=>{let M=_[C];if(!M||!M.children.length)return;let k=g.optgroups[C];if(k!==void 0){let U=document.createDocumentFragment(),D=g.render("optgroup_header",k);le(U,D),le(U,M);let re=g.render("optgroup",{group:k,options:U});le(p,re)}else le(p,M)}),W.innerHTML="",le(W,p),g.settings.highlight&&(et(W),K.query.length&&K.tokens.length&&(0,te.iterate)(K.tokens,C=>{Ze(W,C.regex)}));var ne=C=>{let M=g.render(C,{input:H});return M&&(P=!0,W.insertBefore(M,W.firstChild)),M};if(g.loading?ne("loading"):g.settings.shouldLoad.call(g,H)?K.items.length===0&&ne("no_results"):ne("not_loading"),f=g.canCreate(H),f&&(x=ne("option_create")),g.hasOptions=K.items.length>0||f,P){if(K.items.length>0){if(!b&&g.settings.mode==="single"&&g.items[0]!=null&&(b=g.getOption(g.items[0])),!W.contains(b)){let C=0;x&&!g.settings.addPrecedence&&(C=1),b=g.selectable()[C]}}else x&&(b=x);e&&!g.isOpen&&(g.open(),g.scrollToOption(b,"auto")),g.setActiveOption(b)}else g.clearActiveOption(),e&&g.isOpen&&g.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(e,t=!1){let n=this;if(Array.isArray(e))return n.addOptions(e,t),!1;let o=ee(e[n.settings.valueField]);return o===null||n.options.hasOwnProperty(o)?!1:(e.$order=e.$order||++n.order,e.$id=n.inputId+"-opt-"+e.$order,n.options[o]=e,n.lastQuery=null,t&&(n.userOptions[o]=t,n.trigger("option_add",o,e)),o)}addOptions(e,t=!1){(0,te.iterate)(e,n=>{this.addOption(n,t)})}registerOption(e){return this.addOption(e)}registerOptionGroup(e){var t=ee(e[this.settings.optgroupValueField]);return t===null?!1:(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)}addOptionGroup(e,t){var n;t[this.settings.optgroupValueField]=e,(n=this.registerOptionGroup(t))&&this.trigger("optgroup_add",n,t)}removeOptionGroup(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.clearCache(),this.trigger("optgroup_remove",e))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(e,t){let n=this;var o,s;let i=ee(e),u=ee(t[n.settings.valueField]);if(i===null)return;let p=n.options[i];if(p==null)return;if(typeof u!="string")throw new Error("Value must be set in option data");let f=n.getOption(i),S=n.getItem(i);if(t.$order=t.$order||p.$order,delete n.options[i],n.uncacheValue(u),n.options[u]=t,f){if(n.dropdown_content.contains(f)){let x=n._render("option",t);he(f,x),n.activeOption===f&&n.setActiveOption(x)}f.remove()}S&&(s=n.items.indexOf(i),s!==-1&&n.items.splice(s,1,u),o=n._render("item",t),S.classList.contains("active")&&X(o,"active"),he(S,o)),n.lastQuery=null}removeOption(e,t){let n=this;e=be(e),n.uncacheValue(e),delete n.userOptions[e],delete n.options[e],n.lastQuery=null,n.trigger("option_remove",e),n.removeItem(e,t)}clearOptions(e){let t=(e||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();let n={};(0,te.iterate)(this.options,(o,s)=>{t(o,s)&&(n[s]=o)}),this.options=this.sifter.items=n,this.lastQuery=null,this.trigger("option_clear")}clearFilter(e,t){return this.items.indexOf(t)>=0}getOption(e,t=!1){let n=ee(e);if(n===null)return null;let o=this.options[n];if(o!=null){if(o.$div)return o.$div;if(t)return this._render("option",o)}return null}getAdjacent(e,t,n="option"){var o=this,s;if(!e)return null;n=="item"?s=o.controlChildren():s=o.dropdown_content.querySelectorAll("[data-selectable]");for(let i=0;i<s.length;i++)if(s[i]==e)return t>0?s[i+1]:s[i-1];return null}getItem(e){if(typeof e=="object")return e;var t=ee(e);return t!==null?this.control.querySelector(`[data-value="${Pe(t)}"]`):null}addItems(e,t){var n=this,o=Array.isArray(e)?e:[e];o=o.filter(i=>n.items.indexOf(i)===-1);let s=o[o.length-1];o.forEach(i=>{n.isPending=i!==s,n.addItem(i,t)})}addItem(e,t){var n=t?[]:["change","dropdown_close"];He(this,n,()=>{var o,s;let i=this,u=i.settings.mode,p=ee(e);if(!(p&&i.items.indexOf(p)!==-1&&(u==="single"&&i.close(),u==="single"||!i.settings.duplicates))&&!(p===null||!i.options.hasOwnProperty(p))&&(u==="single"&&i.clear(t),!(u==="multi"&&i.isFull()))){if(o=i._render("item",i.options[p]),i.control.contains(o)&&(o=o.cloneNode(!0)),s=i.isFull(),i.items.splice(i.caretPos,0,p),i.insertAtCaret(o),i.isSetup){if(!i.isPending&&i.settings.hideSelected){let f=i.getOption(p),S=i.getAdjacent(f,1);S&&i.setActiveOption(S)}!i.isPending&&!i.settings.closeAfterSelect&&i.refreshOptions(i.isFocused&&u!=="single"),i.settings.closeAfterSelect!=!1&&i.isFull()?i.close():i.isPending||i.positionDropdown(),i.trigger("item_add",p,o),i.isPending||i.updateOriginalInput({silent:t})}(!i.isPending||!s&&i.isFull())&&(i.inputState(),i.refreshState())}})}removeItem(e=null,t){let n=this;if(e=n.getItem(e),!e)return;var o,s;let i=e.dataset.value;o=ce(e),e.remove(),e.classList.contains("active")&&(s=n.activeItems.indexOf(e),n.activeItems.splice(s,1),oe(e,"active")),n.items.splice(o,1),n.lastQuery=null,!n.settings.persist&&n.userOptions.hasOwnProperty(i)&&n.removeOption(i,t),o<n.caretPos&&n.setCaret(n.caretPos-1),n.updateOriginalInput({silent:t}),n.refreshState(),n.positionDropdown(),n.trigger("item_remove",i,e)}createItem(e=null,t=()=>{}){arguments.length===3&&(t=arguments[2]),typeof t!="function"&&(t=()=>{});var n=this,o=n.caretPos,s;if(e=e||n.inputValue(),!n.canCreate(e))return t(),!1;n.lock();var i=!1,u=p=>{if(n.unlock(),!p||typeof p!="object")return t();var f=ee(p[n.settings.valueField]);if(typeof f!="string")return t();n.setTextboxValue(),n.addOption(p,!0),n.setCaret(o),n.addItem(f),t(p),i=!0};return typeof n.settings.create=="function"?s=n.settings.create.call(this,e,u):s={[n.settings.labelField]:e,[n.settings.valueField]:e},i||u(s),!0}refreshItems(){var e=this;e.lastQuery=null,e.isSetup&&e.addItems(e.items),e.updateOriginalInput(),e.refreshState()}refreshState(){let e=this;e.refreshValidityState();let t=e.isFull(),n=e.isLocked;e.wrapper.classList.toggle("rtl",e.rtl);let o=e.wrapper.classList;o.toggle("focus",e.isFocused),o.toggle("disabled",e.isDisabled),o.toggle("required",e.isRequired),o.toggle("invalid",!e.isValid),o.toggle("locked",n),o.toggle("full",t),o.toggle("input-active",e.isFocused&&!e.isInputHidden),o.toggle("dropdown-active",e.isOpen),o.toggle("has-options",Xe(e.options)),o.toggle("has-items",e.items.length>0)}refreshValidityState(){var e=this;e.input.validity&&(e.isValid=e.input.validity.valid,e.isInvalid=!e.isValid)}isFull(){return this.settings.maxItems!==null&&this.items.length>=this.settings.maxItems}updateOriginalInput(e={}){let t=this;var n,o;let s=t.input.querySelector('option[value=""]');if(t.is_select_tag){let p=function(f,S,x){return f||(f=B('<option value="'+fe(S)+'">'+fe(x)+"</option>")),f!=s&&t.input.append(f),i.push(f),(f!=s||u>0)&&(f.selected=!0),f},i=[],u=t.input.querySelectorAll("option:checked").length;t.input.querySelectorAll("option:checked").forEach(f=>{f.selected=!1}),t.items.length==0&&t.settings.mode=="single"?p(s,"",""):t.items.forEach(f=>{if(n=t.options[f],o=n[t.settings.labelField]||"",i.includes(n.$option)){let S=t.input.querySelector(`option[value="${Pe(f)}"]:not(:checked)`);p(S,f,o)}else n.$option=p(n.$option,f,o)})}else t.input.value=t.getValue();t.isSetup&&(e.silent||t.trigger("change",t.getValue()))}open(){var e=this;e.isLocked||e.isOpen||e.settings.mode==="multi"&&e.isFull()||(e.isOpen=!0,V(e.focus_node,{"aria-expanded":"true"}),e.refreshState(),ge(e.dropdown,{visibility:"hidden",display:"block"}),e.positionDropdown(),ge(e.dropdown,{visibility:"visible",display:"block"}),e.focus(),e.trigger("dropdown_open",e.dropdown))}close(e=!0){var t=this,n=t.isOpen;e&&(t.setTextboxValue(),t.settings.mode==="single"&&t.items.length&&t.hideInput()),t.isOpen=!1,V(t.focus_node,{"aria-expanded":"false"}),ge(t.dropdown,{display:"none"}),t.settings.hideSelected&&t.clearActiveOption(),t.refreshState(),n&&t.trigger("dropdown_close",t.dropdown)}positionDropdown(){if(this.settings.dropdownParent==="body"){var e=this.control,t=e.getBoundingClientRect(),n=e.offsetHeight+t.top+window.scrollY,o=t.left+window.scrollX;ge(this.dropdown,{width:t.width+"px",top:n+"px",left:o+"px"})}}clear(e){var t=this;if(t.items.length){var n=t.controlChildren();(0,te.iterate)(n,o=>{t.removeItem(o,!0)}),t.showInput(),e||t.updateOriginalInput(),t.trigger("clear")}}insertAtCaret(e){let t=this,n=t.caretPos,o=t.control;o.insertBefore(e,o.children[n]||null),t.setCaret(n+1)}deleteSelection(e){var t,n,o,s,i=this;t=e&&e.keyCode===8?-1:1,n=rt(i.control_input);let u=[];if(i.activeItems.length)s=Ae(i.activeItems,t),o=ce(s),t>0&&o++,(0,te.iterate)(i.activeItems,p=>u.push(p));else if((i.isFocused||i.settings.mode==="single")&&i.items.length){let p=i.controlChildren(),f;t<0&&n.start===0&&n.length===0?f=p[i.caretPos-1]:t>0&&n.start===i.inputValue().length&&(f=p[i.caretPos]),f!==void 0&&u.push(f)}if(!i.shouldDelete(u,e))return!1;for(F(e,!0),typeof o<"u"&&i.setCaret(o);u.length;)i.removeItem(u.pop());return i.showInput(),i.positionDropdown(),i.refreshOptions(!1),!0}shouldDelete(e,t){let n=e.map(o=>o.dataset.value);return!(!n.length||typeof this.settings.onDelete=="function"&&this.settings.onDelete(n,t)===!1)}advanceSelection(e,t){var n,o,s=this;s.rtl&&(e*=-1),!s.inputValue().length&&(se(ve,t)||se("shiftKey",t)?(n=s.getLastActive(e),n?n.classList.contains("active")?o=s.getAdjacent(n,e,"item"):o=n:e>0?o=s.control_input.nextElementSibling:o=s.control_input.previousElementSibling,o&&(o.classList.contains("active")&&s.removeActiveItem(n),s.setActiveItemClass(o))):s.moveCaret(e))}moveCaret(e){}getLastActive(e){let t=this.control.querySelector(".last-active");if(t)return t;var n=this.control.querySelectorAll(".active");if(n)return Ae(n,e)}setCaret(e){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.isLocked=!0,this.refreshState()}unlock(){this.isLocked=!1,this.refreshState()}disable(){var e=this;e.input.disabled=!0,e.control_input.disabled=!0,e.focus_node.tabIndex=-1,e.isDisabled=!0,this.close(),e.lock()}enable(){var e=this;e.input.disabled=!1,e.control_input.disabled=!1,e.focus_node.tabIndex=e.tabIndex,e.isDisabled=!1,e.unlock()}destroy(){var e=this,t=e.revertSettings;e.trigger("destroy"),e.off(),e.wrapper.remove(),e.dropdown.remove(),e.input.innerHTML=t.innerHTML,e.input.tabIndex=t.tabIndex,oe(e.input,"tomselected","ts-hidden-accessible"),e._destroy(),delete e.input.tomselect}render(e,t){var n,o;let s=this;if(typeof this.settings.render[e]!="function"||(o=s.settings.render[e].call(this,t,fe),!o))return null;if(o=B(o),e==="option"||e==="option_create"?t[s.settings.disabledField]?V(o,{"aria-disabled":"true"}):V(o,{"data-selectable":""}):e==="optgroup"&&(n=t.group[s.settings.optgroupValueField],V(o,{"data-group":n}),t.group[s.settings.disabledField]&&V(o,{"data-disabled":""})),e==="option"||e==="item"){let i=be(t[s.settings.valueField]);V(o,{"data-value":i}),e==="item"?(X(o,s.settings.itemClass),V(o,{"data-ts-item":""})):(X(o,s.settings.optionClass),V(o,{role:"option",id:t.$id}),t.$div=o,s.options[i]=t)}return o}_render(e,t){let n=this.render(e,t);if(n==null)throw"HTMLElement expected";return n}clearCache(){(0,te.iterate)(this.options,e=>{e.$div&&(e.$div.remove(),delete e.$div)})}uncacheValue(e){let t=this.getOption(e);t&&t.remove()}canCreate(e){return this.settings.create&&e.length>0&&this.settings.createFilter.call(this,e)}hook(e,t,n){var o=this,s=o[t];o[t]=function(){var i,u;return e==="after"&&(i=s.apply(o,arguments)),u=n.apply(o,arguments),e==="instead"?u:(e==="before"&&(i=s.apply(o,arguments)),i)}}};function st(){R(this.input,"change",()=>{this.sync()})}function lt(){var r=this,e=r.onOptionSelect;r.settings.hideSelected=!1;var t=function(n){setTimeout(()=>{var o=n.querySelector("input");o instanceof HTMLInputElement&&(n.classList.contains("selected")?o.checked=!0:o.checked=!1)},1)};r.hook("after","setupTemplates",()=>{var n=r.settings.render.option;r.settings.render.option=(o,s)=>{var i=B(n.call(r,o,s)),u=document.createElement("input");u.addEventListener("click",function(f){F(f)}),u.type="checkbox";let p=ee(o[r.settings.valueField]);return p&&r.items.indexOf(p)>-1&&(u.checked=!0),i.prepend(u),i}}),r.on("item_remove",n=>{var o=r.getOption(n);o&&(o.classList.remove("selected"),t(o))}),r.on("item_add",n=>{var o=r.getOption(n);o&&t(o)}),r.hook("instead","onOptionSelect",(n,o)=>{if(o.classList.contains("selected")){o.classList.remove("selected"),r.removeItem(o.dataset.value),r.refreshOptions(),F(n,!0);return}e.call(r,n,o),t(o)})}function at(r){let e=this,t=Object.assign({className:"clear-button",title:"Clear All",html:n=>`<div class="${n.className}" title="${n.title}">&#10799;</div>`},r);e.on("initialize",()=>{var n=B(t.html(t));n.addEventListener("click",o=>{e.isDisabled||(e.clear(),e.settings.mode==="single"&&e.settings.allowEmptyOption&&e.addItem(""),o.preventDefault(),o.stopPropagation())}),e.control.appendChild(n)})}function ct(){var r=this;if(!$.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if(r.settings.mode==="multi"){var e=r.lock,t=r.unlock;r.hook("instead","lock",()=>{var n=$(r.control).data("sortable");return n&&n.disable(),e.call(r)}),r.hook("instead","unlock",()=>{var n=$(r.control).data("sortable");return n&&n.enable(),t.call(r)}),r.on("initialize",()=>{var n=$(r.control).sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:r.isLocked,start:(o,s)=>{s.placeholder.css("width",s.helper.css("width")),n.css({overflow:"visible"})},stop:()=>{n.css({overflow:"hidden"});var o=[];n.children("[data-value]").each(function(){this.dataset.value&&o.push(this.dataset.value)}),r.setValue(o)}})})}}function dt(r){let e=this,t=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:n=>'<div class="'+n.headerClass+'"><div class="'+n.titleRowClass+'"><span class="'+n.labelClass+'">'+n.title+'</span><a class="'+n.closeClass+'">&times;</a></div></div>'},r);e.on("initialize",()=>{var n=B(t.html(t)),o=n.querySelector("."+t.closeClass);o&&o.addEventListener("click",s=>{F(s,!0),e.close()}),e.dropdown.insertBefore(n,e.dropdown.firstChild)})}function pt(){var r=this;r.hook("instead","setCaret",e=>{r.settings.mode==="single"||!r.control.contains(r.control_input)?e=r.items.length:(e=Math.max(0,Math.min(r.items.length,e)),e!=r.caretPos&&!r.isPending&&r.controlChildren().forEach((t,n)=>{n<e?r.control_input.insertAdjacentElement("beforebegin",t):r.control.appendChild(t)})),r.caretPos=e}),r.hook("instead","moveCaret",e=>{if(!r.isFocused)return;let t=r.getLastActive(e);if(t){let n=ce(t);r.setCaret(e>0?n+1:n),r.setActiveItem(),oe(t,"last-active")}else r.setCaret(r.caretPos+e)})}function ut(){let r=this;r.settings.shouldOpen=!0,r.hook("before","setup",()=>{r.focus_node=r.control,X(r.control_input,"dropdown-input");let e=B('<div class="dropdown-input-wrap">');e.append(r.control_input),r.dropdown.insertBefore(e,r.dropdown.firstChild);let t=B('<input class="items-placeholder" tabindex="-1" />');t.placeholder=r.settings.placeholder||"",r.control.append(t)}),r.on("initialize",()=>{r.control_input.addEventListener("keydown",t=>{switch(t.keyCode){case 27:r.isOpen&&(F(t,!0),r.close()),r.clearActiveItems();return;case 9:r.focus_node.tabIndex=-1;break}return r.onKeyDown.call(r,t)}),r.on("blur",()=>{r.focus_node.tabIndex=r.isDisabled?-1:r.tabIndex}),r.on("dropdown_open",()=>{r.control_input.focus()});let e=r.onBlur;r.hook("instead","onBlur",t=>{if(!(t&&t.relatedTarget==r.control_input))return e.call(r)}),R(r.control_input,"blur",()=>r.onBlur()),r.hook("before","close",()=>{r.isOpen&&r.focus_node.focus({preventScroll:!0})})})}function ft(){var r=this;r.on("initialize",()=>{var e=document.createElement("span"),t=r.control_input;e.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",r.wrapper.appendChild(e);var n=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];for(let s of n)e.style[s]=t.style[s];var o=()=>{e.textContent=t.value,t.style.width=e.clientWidth+"px"};o(),r.on("update item_add item_remove",o),R(t,"input",o),R(t,"keyup",o),R(t,"blur",o),R(t,"update",o)})}function mt(){var r=this,e=r.deleteSelection;this.hook("instead","deleteSelection",t=>r.activeItems.length?e.call(r,t):!1)}function gt(){this.hook("instead","setActiveItem",()=>{}),this.hook("instead","selectAll",()=>{})}function ht(){var r=this,e=r.onKeyDown;r.hook("instead","onKeyDown",t=>{var n,o,s,i;if(!r.isOpen||!(t.keyCode===37||t.keyCode===39))return e.call(r,t);r.ignoreHover=!0,i=ue(r.activeOption,"[data-group]"),n=ce(r.activeOption,"[data-selectable]"),i&&(t.keyCode===37?i=i.previousSibling:i=i.nextSibling,i&&(s=i.querySelectorAll("[data-selectable]"),o=s[Math.min(s.length-1,n)],o&&r.setActiveOption(o)))})}function vt(r){let e=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},r);var t=this;if(e.append){var n='<a href="javascript:void(0)" class="'+e.className+'" tabindex="-1" title="'+fe(e.title)+'">'+e.label+"</a>";t.hook("after","setupTemplates",()=>{var o=t.settings.render.item;t.settings.render.item=(s,i)=>{var u=B(o.call(t,s,i)),p=B(n);return u.appendChild(p),R(p,"mousedown",f=>{F(f,!0)}),R(p,"click",f=>{F(f,!0),!t.isLocked&&t.shouldDelete([u],f)&&(t.removeItem(u),t.refreshOptions(!1),t.inputState())}),u}})}}function bt(r){let e=this,t=Object.assign({text:n=>n[e.settings.labelField]},r);e.on("item_remove",function(n){if(e.isFocused&&e.control_input.value.trim()===""){var o=e.options[n];o&&e.setTextboxValue(t.text.call(e,o))}})}function wt(){let r=this,e=r.canLoad,t=r.clearActiveOption,n=r.loadCallback;var o={},s,i=!1,u,p=[];if(r.settings.shouldLoadMore||(r.settings.shouldLoadMore=()=>{if(s.clientHeight/(s.scrollHeight-s.scrollTop)>.9)return!0;if(r.activeOption){var _=r.selectable(),Y=Array.from(_).indexOf(r.activeOption);if(Y>=_.length-2)return!0}return!1}),!r.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";r.settings.sortField=[{field:"$order"},{field:"$score"}];let f=x=>typeof r.settings.maxOptions=="number"&&s.children.length>=r.settings.maxOptions?!1:!!(x in o&&o[x]),S=(x,_)=>r.items.indexOf(_)>=0||p.indexOf(_)>=0;r.setNextUrl=(x,_)=>{o[x]=_},r.getUrl=x=>{if(x in o){let _=o[x];return o[x]=!1,_}return o={},r.settings.firstUrl.call(r,x)},r.hook("instead","clearActiveOption",()=>{if(!i)return t.call(r)}),r.hook("instead","canLoad",x=>x in o?f(x):e.call(r,x)),r.hook("instead","loadCallback",(x,_)=>{if(!i)r.clearOptions(S);else if(u){let Y=x[0];Y!==void 0&&(u.dataset.value=Y[r.settings.valueField])}n.call(r,x,_),i=!1}),r.hook("after","refreshOptions",()=>{let x=r.lastValue;var _;f(x)?(_=r.render("loading_more",{query:x}),_&&(_.setAttribute("data-selectable",""),u=_)):x in o&&!s.querySelector(".no-results")&&(_=r.render("no_more_results",{query:x})),_&&(X(_,r.settings.optionClass),s.append(_))}),r.on("initialize",()=>{p=Object.keys(r.options),s=r.dropdown_content,r.settings.render=Object.assign({},{loading_more:()=>'<div class="loading-more-results">Loading more results ... </div>',no_more_results:()=>'<div class="no-more-results">No more results</div>'},r.settings.render),s.addEventListener("scroll",()=>{r.settings.shouldLoadMore.call(r)&&f(r.lastValue)&&(i||(i=!0,r.load.call(r,r.lastValue)))})})}J.define("change_listener",st);J.define("checkbox_options",lt);J.define("clear_button",at);J.define("drag_drop",ct);J.define("dropdown_header",dt);J.define("caret_position",pt);J.define("dropdown_input",ut);J.define("input_autogrow",ft);J.define("no_backspace_delete",mt);J.define("no_active_items",gt);J.define("optgroup_columns",ht);J.define("remove_button",vt);J.define("restore_on_backspace",bt);J.define("virtual_scroll",wt);var _t=J;var ze=r=>typeof r=="string";var Ne=r=>r.split(".").reduce((e,t)=>e[t],window);var yt=r=>{ze(r)&&(r=r[0]=="{"?JSON.parse(r):Ne(r));for(let[e,t]of Object.entries(r))if(t&&typeof t=="object"){let n=t.__fn;ze(n)?r[e]=Ne(n):yt(t)}return r},xt=yt;var Tt=r=>{let e=r;do{if(e.nextSibling){r.parsedCallback();return}e=e.parentNode}while(e);setTimeout(()=>{Tt(r)})},Ot=Tt;var Re,je=class extends HTMLElement{connectedCallback(){Re&&clearTimeout(Re),Ot(this)}disconnectedCallback(){this.disconnected(),Re=setTimeout(()=>{this.destroyed(),this.config=null},1e3)}parsedCallback(){this.config||(this.config=xt(this.dataset.config||{}),this.created()),this.connected()}created(){}destroyed(){}connected(){}disconnected(){}},Et=je;var St=0,kt=(r,e)=>{St++;let t=r.id||`${e}-${St}`;return r.id=t,t};var Ct=(r,e="default",t=null)=>{let n=customElements.get("locale-provider");return n?Object.assign(t||{},n.for(r,e)):t};var It=(r,e=!0)=>{let t=e?/(auto|scroll|hidden)/:/(auto|scroll)/,n=r.parentElement;for(;n;){let o=window.getComputedStyle(n);if(t.test(o.overflow+o.overflowY+o.overflowX))return!0;n=n.parentElement}return!1};var Lt=(r,e,t=null)=>{let n=r[e]??t;return delete r[e],n};var At=new Map,Mt=(r,e={},t={})=>{r instanceof URL&&(r=r.toString());let n={method:"GET"};if(!t.signal){let i=At.get(r);i&&i.abort(),i=new AbortController,At.set(r,i),n.signal=i.signal}let o=Object.assign(n,t),s=new URLSearchParams(e);return o.method==="POST"&&!o.body?o.body=s:r+="?"+s.toString(),fetch(r,o)};var Xt=r=>r.text().then(e=>{let t=e&&JSON.parse(e);if(!r.ok){let n=t&&t.message||r.statusText;return Promise.reject(n)}return t}),Ft=(r,e={},t={})=>{let n=t.headers||{};return n["Content-Type"]="application/json",t.headers=n,t.body&&typeof t.body!="string"&&(t.body=JSON.stringify(t.body)),Mt(r,e,t).then(Xt)};var Ht="tom-select",$e=class extends Et{get el(){return this.querySelector("input,select")}get value(){return this.el.value}created(){let e=this.el,t=kt(e,Ht),n=this.config,o=Ct(Ht)||{},s=n.render||{};o.option_create&&(s.option_create=(p,f)=>o.option_create.replace("{input}",f(p.input))),o.no_results&&(s.no_results=(p,f)=>o.no_results),n.render=s;let i=Lt(n,"_ajax");if(i){let p=i.url,f=i.paramName||"q",S=i.params||{},x=i.fetchOptions||{},_=i.dataKey||"data";n.load=(Y,g)=>{S[f]=Y,Ft(p,S,x).then(H=>{let q=_&&H[_]||H;g(q)}).catch(()=>{g()})}}It(this)&&!n.dropdownParent&&(n.dropdownParent="body"),n.onDropdownOpen=p=>{let f=this.querySelector(".ts-control"),S=p.getBoundingClientRect(),x=S.y+S.height,_=p.ownerDocument.documentElement.clientHeight;x>_?p.style.transform=`translateY(calc(-100% - ${f.offsetHeight+2}px))`:x<_-S.height&&(p.style.transform="unset")};let u=this.closest("form");u&&(this.handleEvent=p=>{this.tomselect.setValue(this.originalValue,!0)},u.addEventListener("reset",this)),this.tomselect=new _t(`#${t}`,n),this.originalValue=this.tomselect.items.slice(0)}destroyed(){let e=this.closest("form");e&&e.removeEventListener("reset",this),this.tomselect&&(this.tomselect.destroy(),this.tomselect=null)}},Ve=$e;var Pt=customElements,Kt=(r,e)=>{Pt.get(r)||Pt.define(r,e)};var Dt=`:root{--ts-pr-clear-button:0;--ts-pr-caret:0;--ts-pr-min:.75rem}.ts-wrapper.single .ts-control,.ts-wrapper.single .ts-control input{cursor:pointer}.ts-control{padding-right:max(var(--ts-pr-min),var(--ts-pr-clear-button) + var(--ts-pr-caret))!important}.ts-wrapper.plugin-drag_drop.multi>.ts-control>div.ui-sortable-placeholder{background:#f2f2f2!important;background:rgba(0,0,0,.06)!important;border:0!important;box-shadow:inset 0 0 12px 4px #fff;visibility:visible!important}.ts-wrapper.plugin-drag_drop .ui-sortable-placeholder:after{content:"!";visibility:hidden}.ts-wrapper.plugin-drag_drop .ui-sortable-helper{box-shadow:0 2px 5px rgba(0,0,0,.2)}.plugin-checkbox_options .option input{margin-right:.5rem}.plugin-clear_button{--ts-pr-clear-button:1em}.plugin-clear_button .clear-button{background:transparent!important;cursor:pointer;margin-right:0!important;opacity:0;position:absolute;right:calc(.75rem - 5px);top:50%;transform:translateY(-50%);transition:opacity .5s}.plugin-clear_button.form-select .clear-button,.plugin-clear_button.single .clear-button{right:max(var(--ts-pr-caret),.75rem)}.plugin-clear_button.focus.has-items .clear-button,.plugin-clear_button:not(.disabled):hover.has-items .clear-button{opacity:1}.ts-wrapper .dropdown-header{background:#f8f8f8;border-bottom:1px solid #d0d0d0;border-radius:.375rem .375rem 0 0;padding:6px .75rem;position:relative}.ts-wrapper .dropdown-header-close{color:#343a40;font-size:20px!important;line-height:20px;margin-top:-12px;opacity:.4;position:absolute;right:.75rem;top:50%}.ts-wrapper .dropdown-header-close:hover{color:#000}.plugin-dropdown_input.focus.dropdown-active .ts-control{border:1px solid #ced4da;box-shadow:none;box-shadow:inset 0 1px 2px rgba(0,0,0,.075)}.plugin-dropdown_input .dropdown-input{background:transparent;border:solid #d0d0d0;border-width:0 0 1px;box-shadow:none;display:block;padding:.375rem .75rem;width:100%}.plugin-dropdown_input.focus .ts-dropdown .dropdown-input{border-color:#86b7fe;box-shadow:0 0 0 .25rem rgba(13,110,253,.25);outline:0}.plugin-dropdown_input .items-placeholder{border:0!important;box-shadow:none!important;width:100%}.plugin-dropdown_input.dropdown-active .items-placeholder,.plugin-dropdown_input.has-items .items-placeholder{display:none!important}.ts-wrapper.plugin-input_autogrow.has-items .ts-control>input{min-width:0}.ts-wrapper.plugin-input_autogrow.has-items.focus .ts-control>input{flex:none;min-width:4px}.ts-wrapper.plugin-input_autogrow.has-items.focus .ts-control>input::-ms-input-placeholder{color:transparent}.ts-wrapper.plugin-input_autogrow.has-items.focus .ts-control>input::placeholder{color:transparent}.ts-dropdown.plugin-optgroup_columns .ts-dropdown-content{display:flex}.ts-dropdown.plugin-optgroup_columns .optgroup{border-right:1px solid #f2f2f2;border-top:0;flex-basis:0;flex-grow:1;min-width:0}.ts-dropdown.plugin-optgroup_columns .optgroup:last-child{border-right:0}.ts-dropdown.plugin-optgroup_columns .optgroup:before{display:none}.ts-dropdown.plugin-optgroup_columns .optgroup-header{border-top:0}.ts-wrapper.plugin-remove_button .item{align-items:center;display:inline-flex;padding-right:0!important}.ts-wrapper.plugin-remove_button .item .remove{border-radius:0 2px 2px 0;box-sizing:border-box;color:inherit;display:inline-block;padding:0 5px;text-decoration:none;vertical-align:middle}.ts-wrapper.plugin-remove_button .item .remove:hover{background:rgba(0,0,0,.05)}.ts-wrapper.plugin-remove_button.disabled .item .remove:hover{background:none}.ts-wrapper.plugin-remove_button .remove-single{font-size:23px;position:absolute;right:0;top:0}.ts-wrapper.plugin-remove_button:not(.rtl) .item .remove{border-left:1px solid #dee2e6;margin-left:5px}.ts-wrapper.plugin-remove_button:not(.rtl) .item.active .remove{border-left-color:transparent}.ts-wrapper.plugin-remove_button:not(.rtl).disabled .item .remove{border-left-color:#fff}.ts-wrapper.plugin-remove_button.rtl .item .remove{border-right:1px solid #dee2e6;margin-right:5px}.ts-wrapper.plugin-remove_button.rtl .item.active .remove{border-right-color:transparent}.ts-wrapper.plugin-remove_button.rtl.disabled .item .remove{border-right-color:#fff}.ts-wrapper{position:relative}.ts-control,.ts-control input,.ts-dropdown{font-smoothing:inherit;color:#343a40;font-family:inherit;font-size:inherit;line-height:1.5}.ts-control,.ts-wrapper.single.input-active .ts-control{background:#fff;cursor:text}.ts-control{border:1px solid #ced4da;border-radius:.375rem;box-shadow:none;box-sizing:border-box;flex-wrap:wrap;overflow:hidden;padding:.375rem .75rem;position:relative;width:100%;z-index:1}.ts-wrapper.multi.has-items .ts-control{padding:calc(.375rem - 1px) .75rem calc(.375rem - 4px)}.full .ts-control{background-color:#fff}.disabled .ts-control,.disabled .ts-control *{cursor:default!important}.focus .ts-control{box-shadow:none}.ts-control>*{display:inline-block;vertical-align:baseline}.ts-wrapper.multi .ts-control>div{background:#efefef;border:0 solid #dee2e6;color:#343a40;cursor:pointer;margin:0 3px 3px 0;padding:1px 5px}.ts-wrapper.multi .ts-control>div.active{background:#0d6efd;border:0 solid transparent;color:#fff}.ts-wrapper.multi.disabled .ts-control>div,.ts-wrapper.multi.disabled .ts-control>div.active{background:#fff;border:0 solid #fff;color:#878787}.ts-control>input{background:none!important;border:0!important;box-shadow:none!important;display:inline-block!important;flex:1 1 auto;line-height:inherit!important;margin:0!important;max-height:none!important;max-width:100%!important;min-height:0!important;min-width:7rem;padding:0!important;text-indent:0!important;-webkit-user-select:auto!important;-moz-user-select:auto!important;-ms-user-select:auto!important;user-select:auto!important}.ts-control>input::-ms-clear{display:none}.ts-control>input:focus{outline:none!important}.has-items .ts-control>input{margin:0 4px!important}.ts-control.rtl{text-align:right}.ts-control.rtl.single .ts-control:after{left:calc(.75rem + 5px);right:auto}.ts-control.rtl .ts-control>input{margin:0 4px 0 -2px!important}.disabled .ts-control{background-color:#e9ecef;opacity:.5}.input-hidden .ts-control>input{left:-10000px;opacity:0;position:absolute}.ts-dropdown{background:#fff;border:1px solid #d0d0d0;border-radius:0 0 .375rem .375rem;border-top:0;box-shadow:0 1px 3px rgba(0,0,0,.1);box-sizing:border-box;left:0;margin:.25rem 0 0;position:absolute;top:100%;width:100%;z-index:10}.ts-dropdown [data-selectable]{cursor:pointer;overflow:hidden}.ts-dropdown [data-selectable] .highlight{background:rgba(255,237,40,.4);border-radius:1px}.ts-dropdown .create,.ts-dropdown .no-results,.ts-dropdown .optgroup-header,.ts-dropdown .option{padding:3px .75rem}.ts-dropdown .option,.ts-dropdown [data-disabled],.ts-dropdown [data-disabled] [data-selectable].option{cursor:inherit;opacity:.5}.ts-dropdown [data-selectable].option{cursor:pointer;opacity:1}.ts-dropdown .optgroup:first-child .optgroup-header{border-top:0}.ts-dropdown .optgroup-header{background:#fff;color:#6c757d;cursor:default}.ts-dropdown .active{background-color:#e9ecef;color:#1e2125}.ts-dropdown .active.create{color:#1e2125}.ts-dropdown .create{color:rgba(52,58,64,.5)}.ts-dropdown .spinner{display:inline-block;height:30px;margin:3px .75rem;width:30px}.ts-dropdown .spinner:after{animation:lds-dual-ring 1.2s linear infinite;border-color:#d0d0d0 transparent;border-radius:50%;border-style:solid;border-width:5px;content:" ";display:block;height:24px;margin:3px;width:24px}@keyframes lds-dual-ring{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ts-dropdown-content{overflow-scrolling:touch;max-height:200px;overflow-x:hidden;overflow-y:auto;scroll-behavior:smooth}.ts-hidden-accessible{clip:rect(0 0 0 0)!important;border:0!important;-webkit-clip-path:inset(50%)!important;clip-path:inset(50%)!important;overflow:hidden!important;padding:0!important;position:absolute!important;white-space:nowrap!important;width:1px!important}.ts-wrapper.form-control,.ts-wrapper.form-select{box-shadow:none;display:flex;height:auto;padding:0!important}.ts-dropdown,.ts-dropdown.form-control,.ts-dropdown.form-select{background:#fff;border:1px solid var(--bs-border-color-translucent);border-radius:.375rem;box-shadow:0 6px 12px rgba(0,0,0,.175);height:auto;padding:0;z-index:1000}.ts-dropdown .optgroup-header{font-size:.875rem;line-height:1.5}.ts-dropdown .optgroup:first-child:before{display:none}.ts-dropdown .optgroup:before{border-top:1px solid var(--bs-border-color-translucent);content:" ";display:block;height:0;margin:.5rem -.75rem;overflow:hidden}.ts-dropdown .create{padding-left:.75rem}.ts-dropdown-content{padding:5px 0}.ts-control{align-items:center;display:flex;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.ts-control{transition:none}}.ts-control.dropdown -active{border-radius:.375rem}.focus .ts-control{border-color:#86b7fe;box-shadow:0 0 0 .25rem rgba(13,110,253,.25);outline:0}.ts-control .item{align-items:center;display:flex}.ts-wrapper.is-invalid,.was-validated .invalid,.was-validated :invalid+.ts-wrapper{border-color:#dc3545}.ts-wrapper.is-invalid:not(.single),.was-validated .invalid:not(.single),.was-validated :invalid+.ts-wrapper:not(.single){background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23dc3545'%3E%3Ccircle cx='6' cy='6' r='4.5'/%3E%3Cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3E%3Ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3E%3C/svg%3E");background-position:right calc(.375em + .1875rem) center;background-repeat:no-repeat;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.ts-wrapper.is-invalid.single,.was-validated .invalid.single,.was-validated :invalid+.ts-wrapper.single{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m2 5 6 6 6-6'/%3E%3C/svg%3E"),url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23dc3545'%3E%3Ccircle cx='6' cy='6' r='4.5'/%3E%3Cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3E%3Ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3E%3C/svg%3E");background-position:right .75rem center,center right 2.25rem;background-repeat:no-repeat;background-size:16px 12px,calc(.75em + .375rem) calc(.75em + .375rem)}.ts-wrapper.is-invalid.focus .ts-control,.was-validated .invalid.focus .ts-control,.was-validated :invalid+.ts-wrapper.focus .ts-control{border-color:#dc3545;box-shadow:0 0 0 .25rem rgba(220,53,69,.25)}.ts-wrapper.is-valid,.was-validated .valid,.was-validated :valid+.ts-wrapper{border-color:#198754}.ts-wrapper.is-valid:not(.single),.was-validated .valid:not(.single),.was-validated :valid+.ts-wrapper:not(.single){background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3E%3Cpath fill='%23198754' d='M2.3 6.73.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3E%3C/svg%3E");background-position:right calc(.375em + .1875rem) center;background-repeat:no-repeat;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.ts-wrapper.is-valid.single,.was-validated .valid.single,.was-validated :valid+.ts-wrapper.single{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m2 5 6 6 6-6'/%3E%3C/svg%3E"),url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3E%3Cpath fill='%23198754' d='M2.3 6.73.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3E%3C/svg%3E");background-position:right .75rem center,center right 2.25rem;background-repeat:no-repeat;background-size:16px 12px,calc(.75em + .375rem) calc(.75em + .375rem)}.ts-wrapper.is-valid.focus .ts-control,.was-validated .valid.focus .ts-control,.was-validated :valid+.ts-wrapper.focus .ts-control{border-color:#198754;box-shadow:0 0 0 .25rem rgba(25,135,84,.25)}.ts-wrapper{display:flex;min-height:calc(1.5em + .75rem + 2px)}.input-group-sm>.ts-wrapper,.ts-wrapper.form-control-sm,.ts-wrapper.form-select-sm{min-height:calc(1.5em + .5rem + 2px)}.input-group-sm>.ts-wrapper .ts-control,.ts-wrapper.form-control-sm .ts-control,.ts-wrapper.form-select-sm .ts-control{border-radius:.25rem;font-size:.875rem}.input-group-sm>.ts-wrapper.has-items .ts-control,.ts-wrapper.form-control-sm.has-items .ts-control,.ts-wrapper.form-select-sm.has-items .ts-control{font-size:.875rem;padding-bottom:0}.input-group-sm>.ts-wrapper.multi.has-items .ts-control,.ts-wrapper.form-control-sm.multi.has-items .ts-control,.ts-wrapper.form-select-sm.multi.has-items .ts-control{padding-top:calc(.75em - .40625rem - 1px)!important}.ts-wrapper.multi.has-items .ts-control{--ts-pr-min:calc(0.75rem - 5px);padding-left:calc(.75rem - 5px)}.ts-wrapper.multi .ts-control>div{border-radius:calc(.375rem - 1px)}.input-group-lg>.ts-wrapper,.ts-wrapper.form-control-lg,.ts-wrapper.form-select-lg{min-height:calc(1.5em + 1rem + 2px)}.input-group-lg>.ts-wrapper .ts-control,.ts-wrapper.form-control-lg .ts-control,.ts-wrapper.form-select-lg .ts-control{border-radius:.5rem;font-size:1.25rem}.ts-wrapper:not(.form-control):not(.form-select){background:none;border:none;box-shadow:none;height:auto;padding:0}.ts-wrapper:not(.form-control):not(.form-select).single .ts-control{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m2 5 6 6 6-6'/%3E%3C/svg%3E");background-position:right .75rem center;background-repeat:no-repeat;background-size:16px 12px}.ts-wrapper.form-select,.ts-wrapper.single{--ts-pr-caret:2.25rem}.ts-wrapper.form-control .ts-control,.ts-wrapper.form-control.single.input-active .ts-control,.ts-wrapper.form-select .ts-control,.ts-wrapper.form-select.single.input-active .ts-control{border:none!important}.ts-wrapper.form-control:not(.disabled) .ts-control,.ts-wrapper.form-control:not(.disabled).single.input-active .ts-control,.ts-wrapper.form-select:not(.disabled) .ts-control,.ts-wrapper.form-select:not(.disabled).single.input-active .ts-control{background:transparent!important}.input-group>.ts-wrapper{flex-grow:1}.input-group>.ts-wrapper:not(:nth-child(2))>.ts-control{border-bottom-left-radius:0;border-top-left-radius:0}.input-group>.ts-wrapper:not(:last-child)>.ts-control{border-bottom-right-radius:0;border-top-right-radius:0}
/*# sourceMappingURL=tom-select.bootstrap5.min.css.map */`;var zt=(r,e)=>{if(!document.head.querySelector(`#${r}-style`)){let t=document.createElement("style");t.id=`${r}-style`,t.innerText=e,document.head.append(t)}};zt("tom-select",Dt.replace("/*# sourceMappingURL=tom-select.bootstrap5.min.css.map */",""));Kt("tom-select",Ve);var Bn=Ve;})();
/*! Bundled license information:

@orchidjs/sifter/dist/umd/sifter.js:
  (*! sifter.js | https://github.com/orchidjs/sifter.js | Apache License (v2) *)
  (*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) *)

@orchidjs/unicode-variants/dist/umd/index.js:
  (*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) *)
*/
